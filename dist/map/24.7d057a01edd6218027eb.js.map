{"version":3,"sources":["webpack:///asset/js/24.7d057a01edd6218027eb.js","webpack:///./src/pages/recommend/index.vue","webpack:///./src/pages/recommend/index.ts","webpack:///./src/pages/recommend/index.vue?fa41"],"names":["webpackJsonp","536","module","__webpack_exports__","__webpack_require__","injectStyle","ssrContext","disposed","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0__awesome_typescript_loader_tslint_loader_index_ts__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_1654cce6_hasScoped_false_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_bustCache_index_vue__","normalizeComponent","__vue_styles__","Component","options","__file","esModule","keys","some","key","substr","644","exports","645","showPermanentPlaceAndCompany","user","arr","permanentPlace","push","company","join","MathRound","score","Math","round","__WEBPACK_IMPORTED_MODULE_0_vue__","__WEBPACK_IMPORTED_MODULE_1_vue_class_component__","__WEBPACK_IMPORTED_MODULE_1_vue_class_component___default","n","__WEBPACK_IMPORTED_MODULE_2_vuex_class__","__WEBPACK_IMPORTED_MODULE_3__api__","__WEBPACK_IMPORTED_MODULE_4__utils__","__WEBPACK_IMPORTED_MODULE_5__entity_toast_index__","__WEBPACK_IMPORTED_MODULE_6__config__","__WEBPACK_IMPORTED_MODULE_7__components_share_image_index_vue__","__extends","this","extendStatics","setPrototypeOf","__proto__","Array","d","b","p","hasOwnProperty","__","constructor","prototype","create","__decorate","decorators","target","desc","c","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","i","__metadata","k","v","metadata","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","e","rejected","result","done","then","apply","__generator","body","verb","op","f","TypeError","_","y","t","call","label","ops","pop","trys","g","sent","throw","return","Symbol","iterator","RecommendComp","_super","_this","pageSize","loadingText","targetUsers","recommendedUser","singleUsers","singleUserPage","hasMore","curPage","singleUserListContainer","loadingSingleUser","starGrade","grade","recommendEnable","heart","showShareImg","mounted","$refs","activated","params","action","initCustomData","initTaskData","initPersonData","res","_a","getOtherUserInfo","uid","obj","getSingleUsers","getTaskPublishers","getSingleFriends","subId","getFriendsByPage","concat","rows","checkPage","page","pageIndex","getRecommendedUsersByUid","loadMoreSingleUser","targetUser","fid","showToast","message","setStarGrade","event","scoreStr","getAttribute","parseInt","setStars","recommend","newFriend","refererIndex","subtaskId","e_1","classList","add","setTimeout","remove","recommended","changeRecommendedUser","dragHandler","currentTarget","gesture","speed","abs","deltaX","setAttribute","deltaY","type","splice","style","cssText","animateBeforeLeave","el","direction","setTargetUser","setRecommendedUser","selected","matchingScore","filters","permanentPlaceAndCompany","components","share-image","650","render","_vm","_h","$createElement","_c","_self","ref","staticClass","attrs","id","tag","on","before-leave","staticStyle","width","_v","_l","index","directives","name","rawName","handler","expression","url","headPortrait","draggable","drag","$event","dragtargetUser","_s","realname","_e","click","class","data-action","data-star","fullWidth","age","constellation","height","_f","scroller","loading","load","hide","staticRenderFns","_withStripped","esExports"],"mappings":"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","file":"asset/js/24.7d057a01edd6218027eb.js","sourcesContent":["webpackJsonp([24],{\n\n/***/ 536:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__awesome_typescript_loader_tslint_loader_index_ts__ = __webpack_require__(645);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_1654cce6_hasScoped_false_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_bustCache_index_vue__ = __webpack_require__(650);\nvar disposed = false\nfunction injectStyle (ssrContext) {\n  if (disposed) return\n  __webpack_require__(644)\n}\nvar normalizeComponent = __webpack_require__(6)\n/* script */\n/* template */\n\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__awesome_typescript_loader_tslint_loader_index_ts__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_1654cce6_hasScoped_false_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_bustCache_index_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\nComponent.options.__file = \"src\\\\pages\\\\recommend\\\\index.vue\"\nif (Component.esModule && Object.keys(Component.esModule).some(function (key) {  return key !== \"default\" && key.substr(0, 2) !== \"__\"})) {  console.error(\"named exports are not supported in *.vue files.\")}\n\n/* hot reload */\nif (false) {(function () {\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-1654cce6\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-1654cce6\", Component.options)\n' + '  }\n  module.hot.dispose(function (data) {\n    disposed = true\n  })\n})()}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 644:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 645:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(12);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vue_class_component__ = __webpack_require__(55);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vue_class_component___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_vue_class_component__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_vuex_class__ = __webpack_require__(110);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__api__ = __webpack_require__(61);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__utils__ = __webpack_require__(36);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__entity_toast_index__ = __webpack_require__(60);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__config__ = __webpack_require__(25);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__components_share_image_index_vue__ = __webpack_require__(585);\n/*\r\n * @Author: qiao\r\n * @Date: 2017-12-20 10:19:04\r\n * @Last Modified by: qiao\r\n * @Last Modified time: 2018-02-28 17:21:09\r\n * @description:  推荐页面\r\n * 路由接口：\r\n * action： task: 从红包任务进入 |  custom: 自主牵线  |  person : 从个人页面进入\r\n * uid: 目标用户的uid | null\r\n * subId: 子任务id（action 为task 的时候会有） | null\r\n */\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [0, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n// 本地过滤器\r\nfunction showPermanentPlaceAndCompany(user) {\r\n    var arr = [];\r\n    user.permanentPlace && arr.push(user.permanentPlace);\r\n    user.company && arr.push(user.company);\r\n    return arr.join(' · ');\r\n}\r\nfunction MathRound(score) {\r\n    return Math.round(score);\r\n}\r\nvar RecommendComp = /** @class */ (function (_super) {\r\n    __extends(RecommendComp, _super);\r\n    function RecommendComp() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.pageSize = 10;\r\n        _this.loadingText = __WEBPACK_IMPORTED_MODULE_6__config__[\"w\" /* LOADING_TEXT */];\r\n        // 任务发布者数组\r\n        _this.targetUsers = [];\r\n        // 被推荐用户\r\n        _this.recommendedUser = null;\r\n        // 单身用户数组\r\n        _this.singleUsers = [];\r\n        _this.singleUserPage = {\r\n            hasMore: false,\r\n            curPage: 1\r\n        };\r\n        _this.singleUserListContainer = null;\r\n        _this.loadingSingleUser = false;\r\n        // 星星评分数组\r\n        _this.starGrade = [false, false, false, false, false];\r\n        // 评分\r\n        _this.grade = 0;\r\n        // 是否允许推荐\r\n        _this.recommendEnable = false;\r\n        // 心形图标\r\n        _this.heart = null;\r\n        _this.showShareImg = false;\r\n        return _this;\r\n    }\r\n    RecommendComp.prototype.mounted = function () {\r\n        // debugger;\r\n        this.singleUserListContainer = this.$refs.singleUserListContainer;\r\n        this.heart = this.$refs.heart;\r\n    };\r\n    RecommendComp.prototype.activated = function () {\r\n        this.showShareImg = false;\r\n        this.recommendedUser = null;\r\n        var params = this['$route'].params;\r\n        // console.log(params);\r\n        if (params.action === 'custom') {\r\n            this.initCustomData();\r\n        }\r\n        else if (params.action === 'task') {\r\n            this.initTaskData();\r\n        }\r\n        else if (params.action === 'person') {\r\n            this.initPersonData();\r\n        }\r\n    };\r\n    // deactivated() {\r\n    // }\r\n    /* 数据初始化 */\r\n    RecommendComp.prototype.initPersonData = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var params, res, user;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        params = this['$route'].params;\r\n                        return [4 /*yield*/, __WEBPACK_IMPORTED_MODULE_3__api__[\"a\" /* default */].getOtherUserInfo(params.uid)];\r\n                    case 1:\r\n                        res = _a.sent();\r\n                        user = res.body.obj;\r\n                        this.targetUsers = [user];\r\n                        this.getSingleUsers(params.uid, 1);\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    RecommendComp.prototype.initCustomData = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var res;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, __WEBPACK_IMPORTED_MODULE_3__api__[\"a\" /* default */].getTaskPublishers(null)];\r\n                    case 1:\r\n                        res = _a.sent();\r\n                        this.targetUsers = res.body.obj;\r\n                        if (this.targetUsers.length > 0) {\r\n                            // 获取任务发布者的推荐列表\r\n                            this.getSingleUsers(this.targetUsers[this.targetUsers.length - 1].uid, 1);\r\n                        }\r\n                        else {\r\n                            this.getSingleFriends(1);\r\n                        }\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    RecommendComp.prototype.initTaskData = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var params, res;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        params = this['$route'].params;\r\n                        return [4 /*yield*/, __WEBPACK_IMPORTED_MODULE_3__api__[\"a\" /* default */].getTaskPublishers(params.subId)];\r\n                    case 1:\r\n                        res = _a.sent();\r\n                        this.targetUsers = res.body.obj;\r\n                        this.getSingleUsers(this.targetUsers[this.targetUsers.length - 1].uid, 1);\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * 获取单身好友\r\n     * @param curPage\r\n     */\r\n    RecommendComp.prototype.getSingleFriends = function (curPage) {\r\n        var res = __WEBPACK_IMPORTED_MODULE_4__utils__[\"a\" /* default */].getFriendsByPage(curPage, this.pageSize, true);\r\n        if (curPage === 1) {\r\n            this.singleUsers = [];\r\n        }\r\n        this.singleUsers = this.singleUsers.concat(res.rows);\r\n        __WEBPACK_IMPORTED_MODULE_4__utils__[\"a\" /* default */].checkPage(this.singleUserPage, res.page);\r\n    };\r\n    /**\r\n     * 获取某个用户的推荐列表\r\n     * @param uid 目标用户uid\r\n     * @param pageIndex 列表的index\r\n     */\r\n    RecommendComp.prototype.getSingleUsers = function (uid, pageIndex) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var res, page;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, __WEBPACK_IMPORTED_MODULE_3__api__[\"a\" /* default */].getRecommendedUsersByUid(uid, pageIndex, this.pageSize)];\r\n                    case 1:\r\n                        res = _a.sent();\r\n                        if (pageIndex === 1) {\r\n                            this.singleUsers = [];\r\n                        }\r\n                        this.singleUsers = this.singleUsers.concat(res.body.obj.rows);\r\n                        page = res.body.obj.page;\r\n                        __WEBPACK_IMPORTED_MODULE_4__utils__[\"a\" /* default */].checkPage(this.singleUserPage, page);\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    RecommendComp.prototype.loadMoreSingleUser = function () {\r\n        this.loadingSingleUser = true;\r\n        try {\r\n            if (this.targetUsers.length === 0) {\r\n                // 加载单身好友\r\n                this.getSingleFriends(this.singleUserPage.curPage + 1);\r\n            }\r\n            else {\r\n                // 加载推荐用户\r\n                var targetUser = this.targetUsers[this.targetUsers.length - 1];\r\n                var uid = targetUser.fid || targetUser.uid;\r\n                this.getSingleUsers(uid, this.singleUserPage.curPage + 1);\r\n            }\r\n        }\r\n        catch (e) {\r\n            this.showToast(new __WEBPACK_IMPORTED_MODULE_5__entity_toast_index__[\"a\" /* ToastMsg */](e.message));\r\n            this.singleUserPage.hasMore = false;\r\n        }\r\n        finally {\r\n            this.loadingSingleUser = false;\r\n        }\r\n    };\r\n    RecommendComp.prototype.setStarGrade = function (event) {\r\n        var target = event.target;\r\n        var scoreStr = target.getAttribute('data-star');\r\n        if (!scoreStr) {\r\n            return;\r\n        }\r\n        var score = parseInt(scoreStr, 10);\r\n        this.setStars(score);\r\n    };\r\n    RecommendComp.prototype.recommend = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var _this = this;\r\n            var targetUser, uid, newFriend, refererIndex, subtaskId, e_1;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        targetUser = this.targetUsers[this.targetUsers.length - 1];\r\n                        uid = targetUser.fid || targetUser.uid;\r\n                        newFriend = this.recommendedUser.uid;\r\n                        refererIndex = this.grade;\r\n                        subtaskId = targetUser.subId || null;\r\n                        // 心形动画\r\n                        this.heart.classList.add('scale');\r\n                        setTimeout(function () {\r\n                            _this.heart.classList.remove('scale');\r\n                        }, 1050);\r\n                        _a.label = 1;\r\n                    case 1:\r\n                        _a.trys.push([1, 3, , 4]);\r\n                        return [4 /*yield*/, __WEBPACK_IMPORTED_MODULE_3__api__[\"a\" /* default */].recommend(uid, newFriend, subtaskId, refererIndex)];\r\n                    case 2:\r\n                        _a.sent();\r\n                        // 清除被推荐用户\r\n                        this.recommendedUser.recommended = 1;\r\n                        this.changeRecommendedUser(null);\r\n                        return [3 /*break*/, 4];\r\n                    case 3:\r\n                        e_1 = _a.sent();\r\n                        this.showToast(new __WEBPACK_IMPORTED_MODULE_5__entity_toast_index__[\"a\" /* ToastMsg */](e_1.message));\r\n                        return [3 /*break*/, 4];\r\n                    case 4: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    RecommendComp.prototype.dragHandler = function (event, params) {\r\n        var target = event.currentTarget;\r\n        var gesture = event.gesture;\r\n        // if (!gesture.isRelease) {\r\n        //     // 拖拽进行\r\n        //     debugger;\r\n        //     target.style.cssText = `transform: translate3d(${gesture.deltaX}px, ${gesture.deltaY}px, 0);\r\n        //     -webkit-transform: translate3d(${gesture.deltaX}px, ${gesture.deltaY}px, 0);z-index:3`;\r\n        //     return;\r\n        // }\r\n        // 释放拖拽\r\n        if (gesture.speed > 0.4 || Math.abs(gesture.deltaX) > 300) {\r\n            console.log('fast');\r\n            gesture.deltaX > 0 ? target.setAttribute('direction', 'right') : target.setAttribute('direction', 'left');\r\n            target.setAttribute('deltaY', '' + gesture.deltaY);\r\n            if (params.type === 'targetUser') {\r\n                // 清除被推荐用户\r\n                this.changeRecommendedUser(null);\r\n                // 检查是否还有任务发布者，有的话准备下一个任务发布者的推荐数据\r\n                this.targetUsers.splice(this.targetUsers.length - 1, 1);\r\n                if (this.targetUsers.length === 0) {\r\n                    // 准备好友数据\r\n                    this.getSingleFriends(1);\r\n                }\r\n                else {\r\n                    // 下个任务发布者的推荐数据\r\n                    this.getSingleUsers(this.targetUsers[this.targetUsers.length - 1].uid, 1);\r\n                }\r\n            }\r\n            else {\r\n                // 清除被推荐用户\r\n                this.changeRecommendedUser(null);\r\n            }\r\n        }\r\n        else {\r\n            // 回到原处\r\n            target.style.cssText = 'transform: translate3d(0px, 0px, 0); transition: transform 0.5s;' +\r\n                '-webkit-transform: translate3d(0px, 0px, 0); -webkit-transition: transform 0.5s;z-index:3';\r\n        }\r\n    };\r\n    RecommendComp.prototype.animateBeforeLeave = function (el) {\r\n        // debugger;\r\n        console.log('leave');\r\n        var deltaY = el.getAttribute('deltaY') || 0;\r\n        var direction = el.getAttribute('direction') || 'right';\r\n        if (direction === 'right') {\r\n            el.style.cssText = 'transform: translate3d(1000px,' + deltaY + 'px, 0); transition: transform 1s;' +\r\n                '-webkit-transform: translate3d(1000px,' + deltaY + 'px, 0); -webkit-transition: transform 1s;z-index:3';\r\n        }\r\n        else {\r\n            el.style.cssText = 'transform: translate3d(-1000px,' + deltaY + 'px, 0); transition: transform 1s;' +\r\n                '-webkit-transform: translate3d(-1000px,' + deltaY + 'px, 0); -webkit-transition: transform 1s;z-index:3';\r\n        }\r\n    };\r\n    /**\r\n     * 设置目标用户\r\n     * @param user\r\n     */\r\n    RecommendComp.prototype.setTargetUser = function (user) {\r\n        this.targetUsers.push(user);\r\n        // 准备当前用户的推荐数据\r\n        this.getSingleUsers(user.fid, 1);\r\n    };\r\n    /**\r\n     * 选择单身用户上target-box 或者 recommend-box\r\n     * @param user\r\n     */\r\n    RecommendComp.prototype.setRecommendedUser = function (user) {\r\n        if (user.recommended === 1) {\r\n            this.showToast(new __WEBPACK_IMPORTED_MODULE_5__entity_toast_index__[\"a\" /* ToastMsg */]('已推荐过此用户'));\r\n            return;\r\n        }\r\n        // 切换被推荐用户\r\n        this.changeRecommendedUser(user);\r\n    };\r\n    /**\r\n     * 切换被推荐用户\r\n     * @param user 如果为null，则会清除被推荐用户\r\n     */\r\n    RecommendComp.prototype.changeRecommendedUser = function (user) {\r\n        this.recommendedUser ? this.recommendedUser.selected = false : null;\r\n        if (user) {\r\n            this.setStars(Math.round(user.matchingScore));\r\n            user.selected = true;\r\n            this.recommendEnable = true;\r\n        }\r\n        else {\r\n            this.setStars(0);\r\n            this.recommendEnable = false;\r\n        }\r\n        this.recommendedUser = user;\r\n    };\r\n    /**\r\n     * 设置得分数组\r\n     * @param score\r\n     */\r\n    RecommendComp.prototype.setStars = function (score) {\r\n        this.grade = score;\r\n        switch (score) {\r\n            case 0:\r\n                this.starGrade = [false, false, false, false, false];\r\n                break;\r\n            case 1:\r\n                this.starGrade = [true, false, false, false, false];\r\n                break;\r\n            case 2:\r\n                this.starGrade = [true, true, false, false, false];\r\n                break;\r\n            case 3:\r\n                this.starGrade = [true, true, true, false, false];\r\n                break;\r\n            case 4:\r\n                this.starGrade = [true, true, true, true, false];\r\n                break;\r\n            case 5:\r\n                this.starGrade = [true, true, true, true, true];\r\n                break;\r\n        }\r\n    };\r\n    __decorate([\r\n        Object(__WEBPACK_IMPORTED_MODULE_2_vuex_class__[\"a\" /* Action */])('showToast'),\r\n        __metadata(\"design:type\", Object)\r\n    ], RecommendComp.prototype, \"showToast\", void 0);\r\n    RecommendComp = __decorate([\r\n        __WEBPACK_IMPORTED_MODULE_1_vue_class_component___default()({\r\n            filters: {\r\n                permanentPlaceAndCompany: showPermanentPlaceAndCompany,\r\n                MathRound: MathRound\r\n            },\r\n            components: {\r\n                'share-image': __WEBPACK_IMPORTED_MODULE_7__components_share_image_index_vue__[\"a\" /* default */]\r\n            }\r\n        })\r\n    ], RecommendComp);\r\n    return RecommendComp;\r\n}(__WEBPACK_IMPORTED_MODULE_0_vue__[\"default\"]));\r\n/* harmony default export */ __webpack_exports__[\"a\"] = (RecommendComp);\r\n\n\n/***/ }),\n\n/***/ 650:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    {\n      ref: \"singleUserListContainer\",\n      staticClass: \"content\",\n      attrs: { id: \"recommend\" }\n    },\n    [\n      _c(\n        \"transition-group\",\n        {\n          staticClass: \"select-content\",\n          attrs: { tag: \"div\" },\n          on: { \"before-leave\": _vm.animateBeforeLeave }\n        },\n        [\n          _c(\"div\", { key: 0, staticClass: \"target-box\" }, [\n            _c(\"div\", { staticClass: \"select-wrapper\" }, [\n              _c(\n                \"div\",\n                { staticClass: \"select-box\", staticStyle: { width: \"100%\" } },\n                [\n                  _c(\"div\", { staticClass: \"avatar unselect\" }),\n                  _vm._v(\" \"),\n                  _c(\"div\", { staticClass: \"unselected-hint\" }, [\n                    _vm._v(\"虚位以待\")\n                  ])\n                ]\n              )\n            ])\n          ]),\n          _vm._v(\" \"),\n          _vm._l(_vm.targetUsers, function(targetUser, index) {\n            return _c(\n              \"div\",\n              {\n                directives: [\n                  {\n                    name: \"drag\",\n                    rawName: \"v-drag\",\n                    value: {\n                      params: { type: \"targetUser\" },\n                      handler: _vm.dragHandler\n                    },\n                    expression:\n                      \"{ params: { type: 'targetUser' }, handler: dragHandler }\"\n                  }\n                ],\n                key: targetUser.subId\n                  ? targetUser.subId\n                  : targetUser.fid ? targetUser.fid : targetUser.uid,\n                staticClass: \"target-box\"\n              },\n              [\n                _c(\"div\", { staticClass: \"select-wrapper\" }, [\n                  _c(\n                    \"div\",\n                    { staticClass: \"select-box recommend-box\" },\n                    [\n                      _c(\"load-img\", {\n                        staticClass: \"avatar\",\n                        attrs: { type: \"img\", url: targetUser.headPortrait }\n                      }),\n                      _vm._v(\" \"),\n                      _c(\n                        \"div\",\n                        {\n                          staticClass: \"realname\",\n                          attrs: { draggable: \"true\" },\n                          on: {\n                            drag: function($event) {\n                              _vm.dragtargetUser($event, index)\n                            }\n                          }\n                        },\n                        [_vm._v(_vm._s(targetUser.realname))]\n                      )\n                    ],\n                    1\n                  )\n                ])\n              ]\n            )\n          }),\n          _vm._v(\" \"),\n          _c(\"div\", { key: 1, staticClass: \"recommend-box\" }, [\n            _c(\"div\", { staticClass: \"select-wrapper\" }, [\n              _c(\n                \"div\",\n                { staticClass: \"select-box\", staticStyle: { width: \"100%\" } },\n                [\n                  _c(\"div\", { staticClass: \"avatar unselect\" }),\n                  _vm._v(\" \"),\n                  _c(\"div\", { staticClass: \"unselected-hint\" }, [\n                    _vm._v(\"虚位以待\")\n                  ])\n                ]\n              )\n            ])\n          ]),\n          _vm._v(\" \"),\n          _vm.recommendedUser\n            ? _c(\n                \"div\",\n                {\n                  directives: [\n                    {\n                      name: \"drag\",\n                      rawName: \"v-drag\",\n                      value: {\n                        params: { type: \"recommendedUser\" },\n                        handler: _vm.dragHandler\n                      },\n                      expression:\n                        \"{ params: { type: 'recommendedUser' }, handler: dragHandler }\"\n                    }\n                  ],\n                  key: 2,\n                  staticClass: \"recommend-box\"\n                },\n                [\n                  _c(\"div\", { staticClass: \"select-wrapper\" }, [\n                    _c(\n                      \"div\",\n                      { staticClass: \"select-box recommend-box\" },\n                      [\n                        _c(\"load-img\", {\n                          staticClass: \"avatar\",\n                          attrs: {\n                            type: \"div\",\n                            url: _vm.recommendedUser.headPortrait\n                          }\n                        }),\n                        _vm._v(\" \"),\n                        _c(\"div\", { staticClass: \"realname\" }, [\n                          _vm._v(_vm._s(_vm.recommendedUser.realname))\n                        ])\n                      ],\n                      1\n                    )\n                  ])\n                ]\n              )\n            : _vm._e(),\n          _vm._v(\" \"),\n          _c(\"i\", {\n            key: 3,\n            ref: \"heart\",\n            staticClass: \"iconfont icon-like_fill ion-heart\",\n            attrs: { id: \"heart\" }\n          })\n        ],\n        2\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"div\",\n        {\n          staticClass: \"recommend-score-content\",\n          on: {\n            click: function($event) {\n              _vm.recommendEnable && _vm.setStarGrade($event)\n            }\n          }\n        },\n        [\n          _c(\"span\", [_vm._v(\"推荐指数：\")]),\n          _vm._v(\" \"),\n          _c(\"i\", {\n            staticClass: \"iconfont\",\n            class: _vm.starGrade[0] ? \"icon-like_fill\" : \"icon-like\",\n            attrs: { \"data-action\": \"star\", \"data-star\": \"1\" }\n          }),\n          _vm._v(\" \"),\n          _c(\"i\", {\n            staticClass: \"iconfont\",\n            class: _vm.starGrade[1] ? \"icon-like_fill\" : \"icon-like\",\n            attrs: { \"data-action\": \"star\", \"data-star\": \"2\" }\n          }),\n          _vm._v(\" \"),\n          _c(\"i\", {\n            staticClass: \"iconfont\",\n            class: _vm.starGrade[2] ? \"icon-like_fill\" : \"icon-like\",\n            attrs: { \"data-action\": \"star\", \"data-star\": \"3\" }\n          }),\n          _vm._v(\" \"),\n          _c(\"i\", {\n            staticClass: \"iconfont\",\n            class: _vm.starGrade[3] ? \"icon-like_fill\" : \"icon-like\",\n            attrs: { \"data-action\": \"star\", \"data-star\": \"4\" }\n          }),\n          _vm._v(\" \"),\n          _c(\"i\", {\n            staticClass: \"iconfont\",\n            class: _vm.starGrade[4] ? \"icon-like_fill\" : \"icon-like\",\n            attrs: { \"data-action\": \"star\", \"data-star\": \"5\" }\n          })\n        ]\n      ),\n      _vm._v(\" \"),\n      _c(\"mu-raised-button\", {\n        staticClass: \"recommend-button\",\n        class: _vm.recommendEnable ? \"active\" : \"unactive\",\n        attrs: { label: \"推荐\", fullWidth: \"\" },\n        on: {\n          click: function($event) {\n            _vm.recommendEnable && _vm.recommend()\n          }\n        }\n      }),\n      _vm._v(\" \"),\n      _c(\"div\", { staticClass: \"friend-title\" }, [\n        _vm._v(\"推荐列表\"),\n        _c(\"i\", {\n          staticClass: \"iconfont icon-yaoqinghaoyou\",\n          on: {\n            click: function($event) {\n              _vm.showShareImg = true\n            }\n          }\n        })\n      ]),\n      _vm._v(\" \"),\n      _vm.targetUsers.length === 0 && _vm.singleUsers.length === 0\n        ? _c(\"div\", { staticClass: \"recommend-friend hint\" }, [\n            _vm._v(\"\\n        暂时没有好友列表！\\n    \")\n          ])\n        : _vm.targetUsers.length === 0 && _vm.singleUsers.length > 0\n          ? _vm._l(_vm.singleUsers, function(user) {\n              return _c(\n                \"div\",\n                {\n                  key: user.fid,\n                  staticClass: \"recommend-friend\",\n                  on: {\n                    click: function($event) {\n                      _vm.setTargetUser(user)\n                    }\n                  }\n                },\n                [\n                  _c(\"load-img\", {\n                    staticClass: \"avatar\",\n                    attrs: { type: \"div\", url: user.headPortrait }\n                  }),\n                  _vm._v(\" \"),\n                  _c(\"div\", { staticClass: \"info\" }, [\n                    _c(\"div\", { staticClass: \"realname\" }, [\n                      _vm._v(_vm._s(user.realname))\n                    ]),\n                    _vm._v(\" \"),\n                    _c(\"div\", [\n                      _vm._v(\n                        _vm._s(user.age) +\n                          \"岁 \" +\n                          _vm._s(user.constellation) +\n                          \" \" +\n                          _vm._s(user.height ? user.height + \"cm\" : \"\")\n                      )\n                    ]),\n                    _vm._v(\" \"),\n                    _c(\"div\", [\n                      _vm._v(_vm._s(_vm._f(\"permanentPlaceAndCompany\")(user)))\n                    ])\n                  ])\n                ],\n                1\n              )\n            })\n          : _vm.targetUsers.length > 0 && _vm.singleUsers.length === 0\n            ? _c(\"div\", { staticClass: \"recommend-friend hint\" }, [\n                _vm._v(\"\\n        暂时没有合适的推荐列表！\\n    \")\n              ])\n            : _vm._l(_vm.singleUsers, function(user) {\n                return _c(\n                  \"div\",\n                  {\n                    key: user.uid,\n                    staticClass: \"recommend-friend\",\n                    class: user.selected\n                      ? \"selected\"\n                      : user.recommended === 1 ? \"recommended\" : \"\",\n                    on: {\n                      click: function($event) {\n                        _vm.setRecommendedUser(user)\n                      }\n                    }\n                  },\n                  [\n                    _c(\"load-img\", {\n                      staticClass: \"avatar\",\n                      attrs: { type: \"div\", url: user.headPortrait }\n                    }),\n                    _vm._v(\" \"),\n                    _c(\"div\", { staticClass: \"info\" }, [\n                      _c(\"div\", { staticClass: \"realname\" }, [\n                        _vm._v(_vm._s(user.realname))\n                      ]),\n                      _vm._v(\" \"),\n                      _c(\"div\", [\n                        _vm._v(\n                          _vm._s(user.age) +\n                            \"岁 \" +\n                            _vm._s(user.constellation) +\n                            \" \" +\n                            _vm._s(user.height ? user.height + \"cm\" : \"\")\n                        )\n                      ]),\n                      _vm._v(\" \"),\n                      _c(\"div\", [\n                        _vm._v(_vm._s(_vm._f(\"permanentPlaceAndCompany\")(user)))\n                      ])\n                    ]),\n                    _vm._v(\" \"),\n                    _c(\"div\", { staticClass: \"score\" }, [\n                      _vm._v(\n                        \"推荐指数：\" +\n                          _vm._s(_vm._f(\"MathRound\")(user.matchingScore))\n                      )\n                    ]),\n                    _vm._v(\" \"),\n                    user.recommended === 1\n                      ? _c(\"i\", { staticClass: \"iconfont icon-yituijian\" })\n                      : _vm._e()\n                  ],\n                  1\n                )\n              }),\n      _vm._v(\" \"),\n      _vm.singleUserPage.hasMore\n        ? _c(\"mu-infinite-scroll\", {\n            attrs: {\n              scroller: _vm.singleUserListContainer,\n              loading: _vm.loadingSingleUser,\n              loadingText: _vm.loadingText\n            },\n            on: { load: _vm.loadMoreSingleUser }\n          })\n        : _vm._e(),\n      _vm._v(\" \"),\n      _vm.showShareImg\n        ? _c(\"share-image\", {\n            on: {\n              hide: function($event) {\n                _vm.showShareImg = false\n              }\n            }\n          })\n        : _vm._e()\n    ],\n    2\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\nif (false) {\n  module.hot.accept()\n  if (module.hot.data) {\n    require(\"vue-hot-reload-api\")      .rerender(\"data-v-1654cce6\", esExports)\n  }\n}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// asset/js/24.7d057a01edd6218027eb.js","var disposed = false\nfunction injectStyle (ssrContext) {\n  if (disposed) return\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"id\\\":4,\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1654cce6\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"globalVars\\\":{\\\"museUiTheme\\\":\\\"'J:\\\\\\\\qianduan\\\\\\\\vue\\\\\\\\vue-project\\\\\\\\ailink-wechat\\\\\\\\src\\\\\\\\assets\\\\\\\\css\\\\\\\\muse-custom-theme.less'\\\",\\\"museUiStylePath\\\":\\\"'J:\\\\\\\\qianduan\\\\\\\\vue\\\\\\\\vue-project\\\\\\\\ailink-wechat\\\\\\\\node_modules\\\\\\\\muse-ui\\\\\\\\src\\\\\\\\styles'\\\"}}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0&bustCache!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!awesome-typescript-loader!tslint-loader!./index.ts\"/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1654cce6\\\",\\\"hasScoped\\\":false,\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0&bustCache!./index.vue\"\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\nComponent.options.__file = \"src\\\\pages\\\\recommend\\\\index.vue\"\nif (Component.esModule && Object.keys(Component.esModule).some(function (key) {  return key !== \"default\" && key.substr(0, 2) !== \"__\"})) {  console.error(\"named exports are not supported in *.vue files.\")}\n\n/* hot reload */\nif (module.hot) {(function () {\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-1654cce6\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-1654cce6\", Component.options)\n' + '  }\n  module.hot.dispose(function (data) {\n    disposed = true\n  })\n})()}\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/recommend/index.vue\n// module id = 536\n// module chunks = 24","/*\r\n * @Author: qiao \r\n * @Date: 2017-12-20 10:19:04 \r\n * @Last Modified by: qiao\r\n * @Last Modified time: 2018-02-28 17:21:09\r\n * @description:  推荐页面\r\n * 路由接口： \r\n * action： task: 从红包任务进入 |  custom: 自主牵线  |  person : 从个人页面进入\r\n * uid: 目标用户的uid | null\r\n * subId: 子任务id（action 为task 的时候会有） | null\r\n */\r\n\r\nimport Vue from 'vue';\r\nimport Component from 'vue-class-component';\r\nimport { Action, State } from 'vuex-class';\r\n\r\nimport Api from '~/api';\r\nimport { Ifriend } from '~/entity/friend';\r\nimport { IlocalPage, Ipage } from '~/entity/page';\r\nimport Utils from '~/utils';\r\nimport { IGestureEvent } from '~/directives';\r\nimport { ToastMsg } from './../../entity/toast/index';\r\nimport { LOADING_TEXT } from '~/config';\r\nimport { IRecommendParams } from '~/entity/route_params';\r\n\r\nimport ShareImage from '~/components/share_image/index.vue';\r\n\r\n// interface IRouteParams {\r\n//     action: string; // task: 从红包任务进入 |  custom: 自主牵线  |  person : 从个人页面进入\r\n//     uid: string; // 目标用户uid 没有的时候为 0\r\n//     subId: string; // 子任务id(action为task的时候会有)，没有的时候为0\r\n// }\r\n\r\n// 需要推荐的用户\r\n// interface ITaskPublisher {\r\n//     age: number;\r\n//     birthday: string;\r\n//     // 星座\r\n//     constellation: string;\r\n//     headPortrait: string;\r\n//     realname: string;\r\n//     // 推荐人对应的子任务id\r\n//     subId: string;\r\n//     // 主任务id\r\n//     taskId: string;\r\n//     uid: string;\r\n// }\r\n\r\n// 单身用户\r\ninterface ISingleUser extends Ifriend {\r\n    // 推荐指数，浮点数\r\n    matchingScore?: number;\r\n    // 是否已经被推荐过 0 没有被推荐过，1已经被推荐过\r\n    recommended?: number;\r\n    // 是否被选中\r\n    selected?: boolean;\r\n}\r\n\r\n// 目标用户接口\r\ninterface ITargetUser extends Ifriend {\r\n    // 推荐人对应的子任务id\r\n    subId: string;\r\n    // 主任务id\r\n    taskId: string;\r\n}\r\n\r\n// 本地过滤器\r\nfunction showPermanentPlaceAndCompany(user: ISingleUser) {\r\n    const arr = [];\r\n    user.permanentPlace && arr.push(user.permanentPlace);\r\n    user.company && arr.push(user.company);\r\n    return arr.join(' · ');\r\n} \r\n\r\nfunction MathRound(score: number) {\r\n    return Math.round(score);\r\n}\r\n\r\n@Component({\r\n    filters: {\r\n        permanentPlaceAndCompany: showPermanentPlaceAndCompany,\r\n        MathRound: MathRound\r\n    },\r\n    components: {\r\n        'share-image': ShareImage\r\n    }\r\n})\r\nexport default class RecommendComp extends Vue {\r\n\r\n    pageSize = 10;\r\n\r\n    loadingText = LOADING_TEXT;\r\n\r\n    // 任务发布者数组\r\n    targetUsers: ITargetUser[] = [];\r\n\r\n    // 被推荐用户\r\n    recommendedUser: ISingleUser = null;\r\n\r\n    // 单身用户数组\r\n    singleUsers: ISingleUser[] = [];\r\n\r\n    singleUserPage: IlocalPage = {\r\n        hasMore: false,\r\n        curPage: 1\r\n    };\r\n\r\n    singleUserListContainer: HTMLElement = null;\r\n\r\n    loadingSingleUser = false;\r\n\r\n    // 星星评分数组\r\n    starGrade: boolean[] = [false, false, false, false, false];\r\n    // 评分\r\n    grade: number = 0;\r\n\r\n    // 是否允许推荐\r\n    recommendEnable = false;\r\n\r\n    // 心形图标\r\n    heart: HTMLElement = null;\r\n\r\n    @Action('showToast')\r\n    showToast;\r\n\r\n    $refs: {\r\n        singleUserListContainer: any,\r\n        heart: any\r\n    };\r\n\r\n    showShareImg = false;\r\n\r\n    mounted() {\r\n        // debugger;\r\n        this.singleUserListContainer = this.$refs.singleUserListContainer;\r\n        this.heart = this.$refs.heart;   \r\n    }\r\n    \r\n    activated() {\r\n        this.showShareImg = false;\r\n        this.recommendedUser = null;\r\n        const params: IRecommendParams = this['$route'].params;\r\n        // console.log(params);\r\n        if (params.action === 'custom') {\r\n            this.initCustomData();\r\n        } else if (params.action === 'task') {\r\n            this.initTaskData();\r\n        } else if (params.action === 'person') {\r\n            this.initPersonData();\r\n        }\r\n    }\r\n    \r\n    // deactivated() {\r\n        \r\n    // }\r\n\r\n    /* 数据初始化 */\r\n    async initPersonData() {\r\n        const params: IRecommendParams = this['$route'].params;\r\n        const res = await Api.getOtherUserInfo(params.uid);\r\n        const user: ITargetUser = res.body.obj;\r\n        this.targetUsers = [user];\r\n\r\n        this.getSingleUsers(params.uid, 1);\r\n    }\r\n\r\n    async initCustomData() {\r\n        const res = await Api.getTaskPublishers(null);\r\n        this.targetUsers = res.body.obj;\r\n        if (this.targetUsers.length > 0) {\r\n            // 获取任务发布者的推荐列表\r\n            this.getSingleUsers(this.targetUsers[this.targetUsers.length - 1].uid, 1);\r\n        } else {\r\n            this.getSingleFriends(1);\r\n        }\r\n    }\r\n\r\n    async initTaskData() {\r\n        const params: IRecommendParams = this['$route'].params;\r\n        const res = await Api.getTaskPublishers(params.subId);\r\n        this.targetUsers = res.body.obj;\r\n\r\n        this.getSingleUsers(this.targetUsers[this.targetUsers.length - 1].uid, 1);\r\n    }\r\n\r\n    /**\r\n     * 获取单身好友\r\n     * @param curPage \r\n     */\r\n    getSingleFriends(curPage: number) {\r\n        const res = Utils.getFriendsByPage(curPage, this.pageSize, true);\r\n        if (curPage === 1) {\r\n            this.singleUsers = [];\r\n        }\r\n\r\n        this.singleUsers = this.singleUsers.concat(res.rows);\r\n         \r\n        Utils.checkPage(this.singleUserPage, res.page);\r\n    }\r\n\r\n    /**\r\n     * 获取某个用户的推荐列表\r\n     * @param uid 目标用户uid\r\n     * @param pageIndex 列表的index\r\n     */\r\n    async getSingleUsers(uid: string, pageIndex: number) {\r\n        const res = await Api.getRecommendedUsersByUid(uid, pageIndex, this.pageSize);\r\n        if (pageIndex === 1) {\r\n            this.singleUsers = [];\r\n        }\r\n        this.singleUsers = this.singleUsers.concat(res.body.obj.rows);\r\n\r\n        const page: Ipage = res.body.obj.page;\r\n        Utils.checkPage(this.singleUserPage, page);\r\n    }\r\n\r\n    loadMoreSingleUser() {\r\n        this.loadingSingleUser = true;\r\n        try {\r\n            if (this.targetUsers.length === 0) {\r\n            // 加载单身好友\r\n                this.getSingleFriends(this.singleUserPage.curPage + 1);\r\n            } else {\r\n            // 加载推荐用户\r\n                const targetUser = this.targetUsers[this.targetUsers.length - 1];\r\n                const uid = targetUser.fid || targetUser.uid;\r\n                this.getSingleUsers(uid, this.singleUserPage.curPage + 1);\r\n            }\r\n        } catch (e) {\r\n            this.showToast(new ToastMsg(e.message));\r\n            this.singleUserPage.hasMore = false;\r\n        } finally {\r\n            this.loadingSingleUser = false;\r\n        }\r\n    }\r\n\r\n    setStarGrade(event: Event) {\r\n        const target = <HTMLElement>event.target;\r\n        const scoreStr = target.getAttribute('data-star');\r\n        if (!scoreStr) {\r\n            return;\r\n        }\r\n        const score = parseInt(scoreStr, 10);\r\n        this.setStars(score);\r\n    }\r\n\r\n    async recommend() {\r\n        const targetUser = this.targetUsers[this.targetUsers.length - 1];\r\n        const uid = targetUser.fid || targetUser.uid;\r\n        const newFriend = this.recommendedUser.uid;\r\n        const refererIndex = this.grade;\r\n        const subtaskId = targetUser.subId || null;\r\n\r\n        // 心形动画\r\n        this.heart.classList.add('scale');\r\n        setTimeout(() => {\r\n            this.heart.classList.remove('scale');\r\n        }, 1050);\r\n\r\n        try {\r\n            await Api.recommend(uid, newFriend, subtaskId, refererIndex);\r\n            // 清除被推荐用户\r\n            this.recommendedUser.recommended = 1;\r\n            this.changeRecommendedUser(null);\r\n        } catch (e) {\r\n            this.showToast(new ToastMsg(e.message));\r\n        }\r\n       \r\n    }\r\n\r\n    dragHandler(event: IGestureEvent, params) {\r\n        const target = <HTMLElement>event.currentTarget;\r\n        const gesture = event.gesture;\r\n        // if (!gesture.isRelease) {\r\n        //     // 拖拽进行\r\n        //     debugger;\r\n        //     target.style.cssText = `transform: translate3d(${gesture.deltaX}px, ${gesture.deltaY}px, 0);\r\n        //     -webkit-transform: translate3d(${gesture.deltaX}px, ${gesture.deltaY}px, 0);z-index:3`;\r\n        //     return;\r\n        // }\r\n\r\n        // 释放拖拽\r\n        if (gesture.speed > 0.4 || Math.abs(gesture.deltaX) > 300) {\r\n            console.log('fast');\r\n\r\n            gesture.deltaX > 0 ? target.setAttribute('direction', 'right') : target.setAttribute('direction', 'left');\r\n            target.setAttribute('deltaY', '' + gesture.deltaY);\r\n\r\n            if (params.type === 'targetUser') {\r\n                // 清除被推荐用户\r\n                this.changeRecommendedUser(null);\r\n\r\n                // 检查是否还有任务发布者，有的话准备下一个任务发布者的推荐数据\r\n                this.targetUsers.splice(this.targetUsers.length - 1, 1);\r\n                if (this.targetUsers.length === 0) {\r\n                    // 准备好友数据\r\n                    this.getSingleFriends(1);\r\n                } else {\r\n                    // 下个任务发布者的推荐数据\r\n                    this.getSingleUsers(this.targetUsers[this.targetUsers.length - 1].uid, 1);\r\n                }\r\n            } else {\r\n                // 清除被推荐用户\r\n                this.changeRecommendedUser(null);\r\n            }\r\n            \r\n        } else {\r\n            // 回到原处\r\n            target.style.cssText = 'transform: translate3d(0px, 0px, 0); transition: transform 0.5s;' +\r\n            '-webkit-transform: translate3d(0px, 0px, 0); -webkit-transition: transform 0.5s;z-index:3';\r\n        }\r\n    }\r\n\r\n    animateBeforeLeave(el: HTMLElement) {\r\n        // debugger;\r\n        console.log('leave');\r\n        const deltaY = el.getAttribute('deltaY') || 0;\r\n        const direction = el.getAttribute('direction') || 'right';\r\n        if ( direction === 'right') {\r\n            el.style.cssText = 'transform: translate3d(1000px,' + deltaY + 'px, 0); transition: transform 1s;' +\r\n            '-webkit-transform: translate3d(1000px,' + deltaY + 'px, 0); -webkit-transition: transform 1s;z-index:3';\r\n        } else {\r\n            el.style.cssText = 'transform: translate3d(-1000px,' + deltaY + 'px, 0); transition: transform 1s;' +\r\n            '-webkit-transform: translate3d(-1000px,' + deltaY + 'px, 0); -webkit-transition: transform 1s;z-index:3';\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 设置目标用户\r\n     * @param user \r\n     */\r\n    setTargetUser(user: ITargetUser) {\r\n        this.targetUsers.push(user);\r\n        // 准备当前用户的推荐数据\r\n        this.getSingleUsers(user.fid, 1);\r\n    }\r\n\r\n    /**\r\n     * 选择单身用户上target-box 或者 recommend-box\r\n     * @param user \r\n     */\r\n    setRecommendedUser(user: ISingleUser) {\r\n        if (user.recommended === 1) {\r\n            this.showToast(new ToastMsg('已推荐过此用户'));\r\n            return;\r\n        }\r\n\r\n        // 切换被推荐用户\r\n        this.changeRecommendedUser(user);\r\n    }\r\n\r\n    /**\r\n     * 切换被推荐用户\r\n     * @param user 如果为null，则会清除被推荐用户\r\n     */\r\n    changeRecommendedUser(user: ISingleUser) {\r\n        this.recommendedUser ? this.recommendedUser.selected = false : null;\r\n        if (user) {\r\n            this.setStars(Math.round(user.matchingScore));\r\n            user.selected = true;\r\n            this.recommendEnable = true;\r\n        } else {\r\n            this.setStars(0);\r\n            this.recommendEnable = false;\r\n        }   \r\n        this.recommendedUser = user;\r\n    }\r\n\r\n    /**\r\n     * 设置得分数组\r\n     * @param score \r\n     */\r\n    setStars(score: number) {\r\n        this.grade = score;\r\n        switch (score) {\r\n            case 0: \r\n                this.starGrade = [false, false, false, false, false];\r\n                break;\r\n            case 1:\r\n                this.starGrade = [true, false, false, false, false];\r\n                break;\r\n            case 2:\r\n                this.starGrade = [true, true, false, false, false];\r\n                break;\r\n            case 3:\r\n                this.starGrade = [true, true, true, false, false];\r\n                break;\r\n            case 4:\r\n                this.starGrade = [true, true, true, true, false];\r\n                break;\r\n            case 5:\r\n                this.starGrade = [true, true, true, true, true];\r\n                break;\r\n        }\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader!./src/pages/recommend/index.ts","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    {\n      ref: \"singleUserListContainer\",\n      staticClass: \"content\",\n      attrs: { id: \"recommend\" }\n    },\n    [\n      _c(\n        \"transition-group\",\n        {\n          staticClass: \"select-content\",\n          attrs: { tag: \"div\" },\n          on: { \"before-leave\": _vm.animateBeforeLeave }\n        },\n        [\n          _c(\"div\", { key: 0, staticClass: \"target-box\" }, [\n            _c(\"div\", { staticClass: \"select-wrapper\" }, [\n              _c(\n                \"div\",\n                { staticClass: \"select-box\", staticStyle: { width: \"100%\" } },\n                [\n                  _c(\"div\", { staticClass: \"avatar unselect\" }),\n                  _vm._v(\" \"),\n                  _c(\"div\", { staticClass: \"unselected-hint\" }, [\n                    _vm._v(\"虚位以待\")\n                  ])\n                ]\n              )\n            ])\n          ]),\n          _vm._v(\" \"),\n          _vm._l(_vm.targetUsers, function(targetUser, index) {\n            return _c(\n              \"div\",\n              {\n                directives: [\n                  {\n                    name: \"drag\",\n                    rawName: \"v-drag\",\n                    value: {\n                      params: { type: \"targetUser\" },\n                      handler: _vm.dragHandler\n                    },\n                    expression:\n                      \"{ params: { type: 'targetUser' }, handler: dragHandler }\"\n                  }\n                ],\n                key: targetUser.subId\n                  ? targetUser.subId\n                  : targetUser.fid ? targetUser.fid : targetUser.uid,\n                staticClass: \"target-box\"\n              },\n              [\n                _c(\"div\", { staticClass: \"select-wrapper\" }, [\n                  _c(\n                    \"div\",\n                    { staticClass: \"select-box recommend-box\" },\n                    [\n                      _c(\"load-img\", {\n                        staticClass: \"avatar\",\n                        attrs: { type: \"img\", url: targetUser.headPortrait }\n                      }),\n                      _vm._v(\" \"),\n                      _c(\n                        \"div\",\n                        {\n                          staticClass: \"realname\",\n                          attrs: { draggable: \"true\" },\n                          on: {\n                            drag: function($event) {\n                              _vm.dragtargetUser($event, index)\n                            }\n                          }\n                        },\n                        [_vm._v(_vm._s(targetUser.realname))]\n                      )\n                    ],\n                    1\n                  )\n                ])\n              ]\n            )\n          }),\n          _vm._v(\" \"),\n          _c(\"div\", { key: 1, staticClass: \"recommend-box\" }, [\n            _c(\"div\", { staticClass: \"select-wrapper\" }, [\n              _c(\n                \"div\",\n                { staticClass: \"select-box\", staticStyle: { width: \"100%\" } },\n                [\n                  _c(\"div\", { staticClass: \"avatar unselect\" }),\n                  _vm._v(\" \"),\n                  _c(\"div\", { staticClass: \"unselected-hint\" }, [\n                    _vm._v(\"虚位以待\")\n                  ])\n                ]\n              )\n            ])\n          ]),\n          _vm._v(\" \"),\n          _vm.recommendedUser\n            ? _c(\n                \"div\",\n                {\n                  directives: [\n                    {\n                      name: \"drag\",\n                      rawName: \"v-drag\",\n                      value: {\n                        params: { type: \"recommendedUser\" },\n                        handler: _vm.dragHandler\n                      },\n                      expression:\n                        \"{ params: { type: 'recommendedUser' }, handler: dragHandler }\"\n                    }\n                  ],\n                  key: 2,\n                  staticClass: \"recommend-box\"\n                },\n                [\n                  _c(\"div\", { staticClass: \"select-wrapper\" }, [\n                    _c(\n                      \"div\",\n                      { staticClass: \"select-box recommend-box\" },\n                      [\n                        _c(\"load-img\", {\n                          staticClass: \"avatar\",\n                          attrs: {\n                            type: \"div\",\n                            url: _vm.recommendedUser.headPortrait\n                          }\n                        }),\n                        _vm._v(\" \"),\n                        _c(\"div\", { staticClass: \"realname\" }, [\n                          _vm._v(_vm._s(_vm.recommendedUser.realname))\n                        ])\n                      ],\n                      1\n                    )\n                  ])\n                ]\n              )\n            : _vm._e(),\n          _vm._v(\" \"),\n          _c(\"i\", {\n            key: 3,\n            ref: \"heart\",\n            staticClass: \"iconfont icon-like_fill ion-heart\",\n            attrs: { id: \"heart\" }\n          })\n        ],\n        2\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"div\",\n        {\n          staticClass: \"recommend-score-content\",\n          on: {\n            click: function($event) {\n              _vm.recommendEnable && _vm.setStarGrade($event)\n            }\n          }\n        },\n        [\n          _c(\"span\", [_vm._v(\"推荐指数：\")]),\n          _vm._v(\" \"),\n          _c(\"i\", {\n            staticClass: \"iconfont\",\n            class: _vm.starGrade[0] ? \"icon-like_fill\" : \"icon-like\",\n            attrs: { \"data-action\": \"star\", \"data-star\": \"1\" }\n          }),\n          _vm._v(\" \"),\n          _c(\"i\", {\n            staticClass: \"iconfont\",\n            class: _vm.starGrade[1] ? \"icon-like_fill\" : \"icon-like\",\n            attrs: { \"data-action\": \"star\", \"data-star\": \"2\" }\n          }),\n          _vm._v(\" \"),\n          _c(\"i\", {\n            staticClass: \"iconfont\",\n            class: _vm.starGrade[2] ? \"icon-like_fill\" : \"icon-like\",\n            attrs: { \"data-action\": \"star\", \"data-star\": \"3\" }\n          }),\n          _vm._v(\" \"),\n          _c(\"i\", {\n            staticClass: \"iconfont\",\n            class: _vm.starGrade[3] ? \"icon-like_fill\" : \"icon-like\",\n            attrs: { \"data-action\": \"star\", \"data-star\": \"4\" }\n          }),\n          _vm._v(\" \"),\n          _c(\"i\", {\n            staticClass: \"iconfont\",\n            class: _vm.starGrade[4] ? \"icon-like_fill\" : \"icon-like\",\n            attrs: { \"data-action\": \"star\", \"data-star\": \"5\" }\n          })\n        ]\n      ),\n      _vm._v(\" \"),\n      _c(\"mu-raised-button\", {\n        staticClass: \"recommend-button\",\n        class: _vm.recommendEnable ? \"active\" : \"unactive\",\n        attrs: { label: \"推荐\", fullWidth: \"\" },\n        on: {\n          click: function($event) {\n            _vm.recommendEnable && _vm.recommend()\n          }\n        }\n      }),\n      _vm._v(\" \"),\n      _c(\"div\", { staticClass: \"friend-title\" }, [\n        _vm._v(\"推荐列表\"),\n        _c(\"i\", {\n          staticClass: \"iconfont icon-yaoqinghaoyou\",\n          on: {\n            click: function($event) {\n              _vm.showShareImg = true\n            }\n          }\n        })\n      ]),\n      _vm._v(\" \"),\n      _vm.targetUsers.length === 0 && _vm.singleUsers.length === 0\n        ? _c(\"div\", { staticClass: \"recommend-friend hint\" }, [\n            _vm._v(\"\\n        暂时没有好友列表！\\n    \")\n          ])\n        : _vm.targetUsers.length === 0 && _vm.singleUsers.length > 0\n          ? _vm._l(_vm.singleUsers, function(user) {\n              return _c(\n                \"div\",\n                {\n                  key: user.fid,\n                  staticClass: \"recommend-friend\",\n                  on: {\n                    click: function($event) {\n                      _vm.setTargetUser(user)\n                    }\n                  }\n                },\n                [\n                  _c(\"load-img\", {\n                    staticClass: \"avatar\",\n                    attrs: { type: \"div\", url: user.headPortrait }\n                  }),\n                  _vm._v(\" \"),\n                  _c(\"div\", { staticClass: \"info\" }, [\n                    _c(\"div\", { staticClass: \"realname\" }, [\n                      _vm._v(_vm._s(user.realname))\n                    ]),\n                    _vm._v(\" \"),\n                    _c(\"div\", [\n                      _vm._v(\n                        _vm._s(user.age) +\n                          \"岁 \" +\n                          _vm._s(user.constellation) +\n                          \" \" +\n                          _vm._s(user.height ? user.height + \"cm\" : \"\")\n                      )\n                    ]),\n                    _vm._v(\" \"),\n                    _c(\"div\", [\n                      _vm._v(_vm._s(_vm._f(\"permanentPlaceAndCompany\")(user)))\n                    ])\n                  ])\n                ],\n                1\n              )\n            })\n          : _vm.targetUsers.length > 0 && _vm.singleUsers.length === 0\n            ? _c(\"div\", { staticClass: \"recommend-friend hint\" }, [\n                _vm._v(\"\\n        暂时没有合适的推荐列表！\\n    \")\n              ])\n            : _vm._l(_vm.singleUsers, function(user) {\n                return _c(\n                  \"div\",\n                  {\n                    key: user.uid,\n                    staticClass: \"recommend-friend\",\n                    class: user.selected\n                      ? \"selected\"\n                      : user.recommended === 1 ? \"recommended\" : \"\",\n                    on: {\n                      click: function($event) {\n                        _vm.setRecommendedUser(user)\n                      }\n                    }\n                  },\n                  [\n                    _c(\"load-img\", {\n                      staticClass: \"avatar\",\n                      attrs: { type: \"div\", url: user.headPortrait }\n                    }),\n                    _vm._v(\" \"),\n                    _c(\"div\", { staticClass: \"info\" }, [\n                      _c(\"div\", { staticClass: \"realname\" }, [\n                        _vm._v(_vm._s(user.realname))\n                      ]),\n                      _vm._v(\" \"),\n                      _c(\"div\", [\n                        _vm._v(\n                          _vm._s(user.age) +\n                            \"岁 \" +\n                            _vm._s(user.constellation) +\n                            \" \" +\n                            _vm._s(user.height ? user.height + \"cm\" : \"\")\n                        )\n                      ]),\n                      _vm._v(\" \"),\n                      _c(\"div\", [\n                        _vm._v(_vm._s(_vm._f(\"permanentPlaceAndCompany\")(user)))\n                      ])\n                    ]),\n                    _vm._v(\" \"),\n                    _c(\"div\", { staticClass: \"score\" }, [\n                      _vm._v(\n                        \"推荐指数：\" +\n                          _vm._s(_vm._f(\"MathRound\")(user.matchingScore))\n                      )\n                    ]),\n                    _vm._v(\" \"),\n                    user.recommended === 1\n                      ? _c(\"i\", { staticClass: \"iconfont icon-yituijian\" })\n                      : _vm._e()\n                  ],\n                  1\n                )\n              }),\n      _vm._v(\" \"),\n      _vm.singleUserPage.hasMore\n        ? _c(\"mu-infinite-scroll\", {\n            attrs: {\n              scroller: _vm.singleUserListContainer,\n              loading: _vm.loadingSingleUser,\n              loadingText: _vm.loadingText\n            },\n            on: { load: _vm.loadMoreSingleUser }\n          })\n        : _vm._e(),\n      _vm._v(\" \"),\n      _vm.showShareImg\n        ? _c(\"share-image\", {\n            on: {\n              hide: function($event) {\n                _vm.showShareImg = false\n              }\n            }\n          })\n        : _vm._e()\n    ],\n    2\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\nif (module.hot) {\n  module.hot.accept()\n  if (module.hot.data) {\n    require(\"vue-hot-reload-api\")      .rerender(\"data-v-1654cce6\", esExports)\n  }\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1654cce6\",\"hasScoped\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0&bustCache!./src/pages/recommend/index.vue\n// module id = 650\n// module chunks = 24"],"sourceRoot":""}