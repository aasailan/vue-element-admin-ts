{"version":3,"sources":["webpack:///asset/js/31.bfbc43229ccdea64d3df.js","webpack:///./src/pages/openTask/index.vue","webpack:///./src/pages/openTask/index.ts","webpack:///./src/pages/openTask/index.vue?49ad"],"names":["webpackJsonp","567","module","__webpack_exports__","__webpack_require__","injectStyle","ssrContext","disposed","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0__awesome_typescript_loader_tslint_loader_index_ts__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_6b6e17d4_hasScoped_false_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_bustCache_index_vue__","normalizeComponent","__vue_styles__","Component","options","__file","esModule","keys","some","key","substr","785","exports","786","__WEBPACK_IMPORTED_MODULE_0_vue__","__WEBPACK_IMPORTED_MODULE_1_vue_class_component__","__WEBPACK_IMPORTED_MODULE_1_vue_class_component___default","n","__WEBPACK_IMPORTED_MODULE_2_vue_property_decorator__","__WEBPACK_IMPORTED_MODULE_3_vuex_class__","__WEBPACK_IMPORTED_MODULE_4_muse_ui_textField__","__WEBPACK_IMPORTED_MODULE_5__components_picker_index_vue__","__WEBPACK_IMPORTED_MODULE_6__config__","__WEBPACK_IMPORTED_MODULE_7__router__","__WEBPACK_IMPORTED_MODULE_8__api__","__WEBPACK_IMPORTED_MODULE_9__cache__","__WEBPACK_IMPORTED_MODULE_10__entity_toast__","__WEBPACK_IMPORTED_MODULE_11__vendors_city__","__WEBPACK_IMPORTED_MODULE_12__bus_index__","__extends","this","extendStatics","setPrototypeOf","__proto__","Array","d","b","p","hasOwnProperty","__","constructor","prototype","create","__decorate","decorators","target","desc","c","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","i","__metadata","k","v","metadata","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","e","rejected","result","done","then","apply","__generator","body","verb","op","f","TypeError","_","y","t","call","label","ops","pop","trys","push","g","sent","throw","return","Symbol","iterator","OpenTask","_super","_this","submitData","taskType","subject","duration","leaveMsg","subType","totalAmount","totalCount","redPacketType","range","rangeType","permanentPlace","companys","openTask","redPacketPrice","isableSubmit","tipInfo","multiLineInputErrorText","dateOptions","pickerTheme","pickerType","pickerData","showOpenTaskModal","get","companyCache","enumerable","configurable","mounted","beforeEach","to","from","name","initData","calculateTotalAmount","activated","errorHint","deactivated","isShowModal","cancel","$emit","addCompanyInOpenTask","watchAmout","newVal","oldVal","checkAmout","watchCount","checkCount","handleMultiLineOverflow","isOverflow","parseInt","parseFloat","changeRedBagType","toFixed","averagePrice","replace","indexOf","String","leaveMsgEnable","companyEnable","showDuetimeSet","defaultDuetime","list","currentIndex","addModal","confirmDuetime","event","values","showRegionSet","confirmRegion","selectIndex","indexvalues","userInfo","showCitySelect","city","province","toAddCompanysPage","deleteCompany","company","index","splice","confirmPermanentPlace","hideModal","confirm","theme","submitOrder","totalAmoutSubmit","taskRes","taskInfo","params","e_1","_a","showLoading","submitTaskOrder","hideLoading","obj","taskId","action","payParams","showToast","message","state","user","modal","MODAL_0","Function","components","mu-text-field","picker","787","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","id","_v","_s","_e","directives","rawName","expression","ref","placeholder","onkeyup","domProps","on","input","$event","composing","$set","staticStyle","color","click","oninput","labelClass","hintTextClass","hintText","errorText","maxLength","multiLine","underlineShow","textOverflow","model","callback","$$v","title","afterText","slot","RangeText","_l","disabled","primary","isShowPicker","type","staticRenderFns","_withStripped","esExports"],"mappings":"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","file":"asset/js/31.bfbc43229ccdea64d3df.js","sourcesContent":["webpackJsonp([31],{\n\n/***/ 567:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__awesome_typescript_loader_tslint_loader_index_ts__ = __webpack_require__(786);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_6b6e17d4_hasScoped_false_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_bustCache_index_vue__ = __webpack_require__(787);\nvar disposed = false\nfunction injectStyle (ssrContext) {\n  if (disposed) return\n  __webpack_require__(785)\n}\nvar normalizeComponent = __webpack_require__(6)\n/* script */\n/* template */\n\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__awesome_typescript_loader_tslint_loader_index_ts__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_6b6e17d4_hasScoped_false_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_bustCache_index_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\nComponent.options.__file = \"src\\\\pages\\\\openTask\\\\index.vue\"\nif (Component.esModule && Object.keys(Component.esModule).some(function (key) {  return key !== \"default\" && key.substr(0, 2) !== \"__\"})) {  console.error(\"named exports are not supported in *.vue files.\")}\n\n/* hot reload */\nif (false) {(function () {\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-6b6e17d4\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-6b6e17d4\", Component.options)\n' + '  }\n  module.hot.dispose(function (data) {\n    disposed = true\n  })\n})()}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 785:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 786:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(12);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vue_class_component__ = __webpack_require__(55);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vue_class_component___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_vue_class_component__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_vue_property_decorator__ = __webpack_require__(77);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_vue_property_decorator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_vue_property_decorator__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_vuex_class__ = __webpack_require__(110);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_muse_ui_textField__ = __webpack_require__(575);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__components_picker_index_vue__ = __webpack_require__(577);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__config__ = __webpack_require__(25);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__router__ = __webpack_require__(78);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__api__ = __webpack_require__(61);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__cache__ = __webpack_require__(111);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__entity_toast__ = __webpack_require__(60);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__vendors_city__ = __webpack_require__(580);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__bus_index__ = __webpack_require__(579);\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [0, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\n/*\r\n * @Author: Rybin\r\n * @Date: 2017-12-25 08:43:58\r\n * @Last Modified by: Rybin\r\n * @Last Modified time: 2018-01-26 14:43:02\r\n * @description: {}\r\n */\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n// import Utils from '~/utils';\r\n\r\n\r\n // 引入bus事件存储组建\r\nvar OpenTask = /** @class */ (function (_super) {\r\n    __extends(OpenTask, _super);\r\n    function OpenTask() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        // 初始化数据\r\n        _this.submitData = {\r\n            taskType: 2,\r\n            subject: '公开任务',\r\n            duration: 30,\r\n            leaveMsg: '',\r\n            subType: 2,\r\n            totalAmount: 0.00,\r\n            totalCount: null,\r\n            redPacketType: 1,\r\n            range: {\r\n                rangeType: 1,\r\n                permanentPlace: null,\r\n                companys: [] // 公司集合\r\n            }\r\n        };\r\n        _this.openTask = {\r\n            submitData: _this.submitData,\r\n            redPacketPrice: '',\r\n            totalCount: '',\r\n            isableSubmit: false,\r\n            tipInfo: '',\r\n            multiLineInputErrorText: '',\r\n            dateOptions: []\r\n        };\r\n        // inputOpenTaskAmout: HTMLElement = null;\r\n        /* picker 组件 */\r\n        _this.pickerTheme = null;\r\n        _this.pickerType = null;\r\n        _this.pickerData = null;\r\n        _this.showOpenTaskModal = false;\r\n        return _this;\r\n    }\r\n    Object.defineProperty(OpenTask.prototype, \"companyCache\", {\r\n        get: function () {\r\n            return __WEBPACK_IMPORTED_MODULE_12__bus_index__[\"a\" /* default */].companyCache;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    OpenTask.prototype.mounted = function () {\r\n        var _this = this;\r\n        console.log('mounted');\r\n        __WEBPACK_IMPORTED_MODULE_7__router__[\"a\" /* default */].beforeEach(function (to, from, next) {\r\n            if (to.name === 'taskSelect' && from.name === 'openTask') {\r\n                _this.initData();\r\n                next();\r\n            }\r\n            else {\r\n                next();\r\n            }\r\n        });\r\n        this.calculateTotalAmount();\r\n    };\r\n    OpenTask.prototype.activated = function () {\r\n        this.showOpenTaskModal = true;\r\n        for (var i = 1; i < 25; i++) {\r\n            this.openTask.dateOptions.push(i * 5);\r\n        }\r\n        // this.openTask.submitData.range.companys = Utils.getItem(CACHE_NAME.addCompanyInOpenTask, false);\r\n        this.openTask.submitData.range.companys = this.companyCache;\r\n        this.errorHint();\r\n    };\r\n    OpenTask.prototype.deactivated = function () {\r\n        this.showOpenTaskModal = false;\r\n        if (this.isShowModal) {\r\n            this.cancel();\r\n        }\r\n    };\r\n    OpenTask.prototype.initData = function () {\r\n        this.submitData = {\r\n            taskType: 2,\r\n            subject: '公开任务',\r\n            duration: 30,\r\n            leaveMsg: '',\r\n            subType: 2,\r\n            totalAmount: 0.00,\r\n            totalCount: null,\r\n            redPacketType: 1,\r\n            range: {\r\n                rangeType: 1,\r\n                permanentPlace: null,\r\n                companys: [] // 公司集合\r\n            }\r\n        };\r\n        this.openTask = {\r\n            submitData: this.submitData,\r\n            redPacketPrice: '',\r\n            totalCount: '',\r\n            isableSubmit: false,\r\n            tipInfo: '',\r\n            multiLineInputErrorText: '',\r\n            dateOptions: []\r\n        };\r\n        __WEBPACK_IMPORTED_MODULE_12__bus_index__[\"a\" /* default */].$emit(__WEBPACK_IMPORTED_MODULE_9__cache__[\"a\" /* CACHE_NAME */].addCompanyInOpenTask, []); // 清除缓存的公司数据\r\n        // Utils.removeItem(CACHE_NAME.addCompanyInOpenTask); // 清除缓存的公司数据\r\n    };\r\n    OpenTask.prototype.watchAmout = function (newVal, oldVal) {\r\n        console.log('redPacketPrice change!!!!!!!!!!');\r\n        this.checkAmout();\r\n    };\r\n    OpenTask.prototype.watchCount = function (newVal, oldVal) {\r\n        console.log('totalCount change!!!!!!!!!!');\r\n        this.checkCount();\r\n    };\r\n    Object.defineProperty(OpenTask.prototype, \"RangeText\", {\r\n        // 公开范围选项显示转化\r\n        get: function () {\r\n            return __WEBPACK_IMPORTED_MODULE_6__config__[\"O\" /* TASK_REGION */][this.openTask.submitData.range.rangeType - 1];\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    OpenTask.prototype.handleMultiLineOverflow = function (isOverflow) {\r\n        this.openTask.multiLineInputErrorText = isOverflow ? '超过字数限制啦！' : '';\r\n        // this.openTask.isableSubmit = !isOverflow;\r\n        this.errorHint();\r\n    };\r\n    OpenTask.prototype.calculateTotalAmount = function () {\r\n        // 总金额计算\r\n        if (this.openTask.totalCount === '' || this.openTask.redPacketPrice === '') {\r\n            // this.openTask.totalAmount = this.openTask.redPacketPrice;\r\n            this.openTask.submitData.totalAmount = 0;\r\n        }\r\n        else if (this.openTask.submitData.redPacketType === 1) {\r\n            // this.openTask.submitData.totalAmount = this.openTask.submitData.totalCount * parseFloat(this.openTask.redPacketPrice);\r\n            this.openTask.submitData.totalAmount = parseInt(this.openTask.totalCount, 10) * parseFloat(this.openTask.redPacketPrice);\r\n        }\r\n        else {\r\n            this.openTask.submitData.totalAmount = parseFloat(this.openTask.redPacketPrice);\r\n        }\r\n    };\r\n    // 切换红包类型\r\n    OpenTask.prototype.changeRedBagType = function () {\r\n        // debugger;\r\n        if (this.openTask.submitData.redPacketType === 1) {\r\n            // 变成随机红包，总金额与红包金额相等\r\n            if (this.openTask.submitData.totalAmount === 0) {\r\n                this.openTask.submitData.redPacketType = 2;\r\n                this.openTask.redPacketPrice = '';\r\n            }\r\n            else {\r\n                this.openTask.redPacketPrice = this.openTask.submitData.totalAmount.toFixed(2);\r\n                this.openTask.submitData.redPacketType = 2;\r\n            }\r\n        }\r\n        else {\r\n            // 变成普通红包\r\n            if (this.openTask.submitData.totalAmount === 0) {\r\n                this.openTask.submitData.redPacketType = 1;\r\n                this.openTask.redPacketPrice = '';\r\n            }\r\n            else {\r\n                var averagePrice = this.openTask.submitData.totalAmount / parseInt(this.openTask.totalCount, 10);\r\n                this.openTask.redPacketPrice = averagePrice.toFixed(2);\r\n                this.openTask.submitData.totalAmount = averagePrice * parseInt(this.openTask.totalCount, 10);\r\n                this.openTask.submitData.redPacketType = 1;\r\n            }\r\n        }\r\n    };\r\n    // 监控红包金额更改\r\n    OpenTask.prototype.checkAmout = function () {\r\n        // 格式正则匹配\r\n        this.openTask.redPacketPrice = this.openTask.redPacketPrice.replace(/[^\\d.]/g, ''); // 清除“数字”和“.”以外的字符\r\n        this.openTask.redPacketPrice = this.openTask.redPacketPrice.replace(/\\.{2,}/g, '.'); // 只保留第一个. 清除多余的\r\n        this.openTask.redPacketPrice = this.openTask.redPacketPrice.replace('.', '$#$').replace(/\\./g, '').replace('$#$', '.');\r\n        this.openTask.redPacketPrice = this.openTask.redPacketPrice.replace(/^(0+)(\\d+)\\.(\\d*).*$/, '$2.$3'); // 有小数点时，去除头部多余的 0,避免出现 000.12\r\n        this.openTask.redPacketPrice = this.openTask.redPacketPrice.replace(/^\\.(\\d+).*$/, '0.$1'); // 首位为小数点，自动在头部添加0\r\n        this.openTask.redPacketPrice = this.openTask.redPacketPrice.replace(/^(\\d+)\\.(\\d\\d).*$/, '$1.$2'); // 只能输入两个小数 /^(\\-)*(\\d+)\\.(\\d\\d).*$/\r\n        if (this.openTask.redPacketPrice.indexOf('.') < 0 && this.openTask.redPacketPrice !== '') {\r\n            this.openTask.redPacketPrice = String(parseFloat(this.openTask.redPacketPrice));\r\n            //  this.openTask.redPacketPrice = this.redPacketPriceTemp.toString;\r\n        }\r\n        this.errorHint();\r\n        this.calculateTotalAmount();\r\n    };\r\n    // 监控红包个数更改\r\n    OpenTask.prototype.checkCount = function () {\r\n        // 格式正则匹配\r\n        if (this.openTask.totalCount.length === 1) {\r\n            this.openTask.totalCount = this.openTask.totalCount.replace(/[^1-9]/g, '1'); // 输入单个非数字的字符时，只能为默认值1\r\n        }\r\n        else {\r\n            this.openTask.totalCount = this.openTask.totalCount.replace(/\\D/g, ''); // 对所有的非数字字符剔除\r\n            this.openTask.totalCount = this.openTask.totalCount === '' ? '' : this.openTask.totalCount;\r\n            if (this.openTask.totalCount.indexOf('.') < 0 && this.openTask.totalCount !== '') {\r\n                this.openTask.totalCount = String(parseInt(this.openTask.totalCount, 10));\r\n                // console.log(typeof(this.openTask.submitData.totalCount));\r\n            }\r\n        }\r\n        this.errorHint();\r\n        this.calculateTotalAmount();\r\n    };\r\n    OpenTask.prototype.errorHint = function () {\r\n        var totalCount = parseInt(this.openTask.totalCount, 10);\r\n        var leaveMsgEnable = true; // 判断留言字数，进行提交按钮状态的设置\r\n        var companyEnable = true; // 判断选中的公司不为空，进行提交按钮状态的设置\r\n        // 输入的红包金额错误类型提示\r\n        if (parseFloat(this.openTask.redPacketPrice) > 0) {\r\n            if (this.openTask.submitData.redPacketType === 1 && parseFloat(this.openTask.redPacketPrice) > __WEBPACK_IMPORTED_MODULE_6__config__[\"A\" /* MAX_RED_PACKET_AMOUT */]) {\r\n                this.openTask.isableSubmit = false;\r\n                this.openTask.tipInfo = \"\\u5355\\u4E2A\\u7EA2\\u5305\\u91D1\\u989D\\u4E0D\\u80FD\\u8D85\\u8FC7\" + __WEBPACK_IMPORTED_MODULE_6__config__[\"A\" /* MAX_RED_PACKET_AMOUT */] + \"\\u5143\";\r\n                return;\r\n            }\r\n            else if (this.openTask.submitData.redPacketType === 2 && (this.openTask.submitData.totalAmount / totalCount > __WEBPACK_IMPORTED_MODULE_6__config__[\"A\" /* MAX_RED_PACKET_AMOUT */])) {\r\n                this.openTask.isableSubmit = false;\r\n                this.openTask.tipInfo = \"\\u5355\\u4E2A\\u7EA2\\u5305\\u91D1\\u989D\\u4E0D\\u80FD\\u8D85\\u8FC7\" + __WEBPACK_IMPORTED_MODULE_6__config__[\"A\" /* MAX_RED_PACKET_AMOUT */] + \"\\u5143\";\r\n                return;\r\n            }\r\n            else {\r\n                this.openTask.isableSubmit = true;\r\n                this.openTask.tipInfo = '';\r\n            }\r\n        }\r\n        else {\r\n            this.openTask.isableSubmit = false;\r\n            this.openTask.tipInfo = '请输入大于0的红包金额';\r\n            return;\r\n        }\r\n        // 如果红包金额没错，继续判断红包个数\r\n        if (totalCount <= __WEBPACK_IMPORTED_MODULE_6__config__[\"B\" /* MAX_RED_PACKET_NUMBER */] && totalCount > 0) {\r\n            this.openTask.isableSubmit = true;\r\n            this.openTask.tipInfo = '';\r\n        }\r\n        else if (totalCount > __WEBPACK_IMPORTED_MODULE_6__config__[\"B\" /* MAX_RED_PACKET_NUMBER */]) {\r\n            this.openTask.tipInfo = \"\\u6700\\u591A\\u53EA\\u80FD\\u53D1\" + __WEBPACK_IMPORTED_MODULE_6__config__[\"B\" /* MAX_RED_PACKET_NUMBER */] + \"\\u4E2A\\u7EA2\\u5305\\uFF0C\\u8BF7\\u4FEE\\u6539\\u7EA2\\u5305\\u4E2A\\u6570\";\r\n            // this.openTask.totalCount = 99;\r\n            this.openTask.isableSubmit = false;\r\n        }\r\n        else if (totalCount <= 0) {\r\n            this.openTask.tipInfo = '请输入大于0的红包个数';\r\n            this.openTask.isableSubmit = false;\r\n        }\r\n        else {\r\n            this.openTask.tipInfo = '请输入大于0的红包个数';\r\n            this.openTask.isableSubmit = false;\r\n        }\r\n        if (this.openTask.submitData.leaveMsg.length > 150) {\r\n            leaveMsgEnable = false;\r\n        }\r\n        if (this.openTask.submitData.range.rangeType === 3 || this.openTask.submitData.range.rangeType === 4) {\r\n            companyEnable = this.openTask.submitData.range.companys.length > 0;\r\n        }\r\n        if (!leaveMsgEnable || !companyEnable) {\r\n            this.openTask.isableSubmit = false;\r\n        }\r\n    };\r\n    // 订单期限选择    \r\n    OpenTask.prototype.showDuetimeSet = function () {\r\n        var defaultDuetime = this.openTask.submitData.duration || 30;\r\n        this.pickerData = [\r\n            {\r\n                list: this.openTask.dateOptions,\r\n                currentIndex: this.openTask.dateOptions.indexOf(defaultDuetime)\r\n            }\r\n        ];\r\n        this.pickerTheme = 'dueTimeSet';\r\n        this.pickerType = '';\r\n        this.addModal(__WEBPACK_IMPORTED_MODULE_6__config__[\"D\" /* MODAL_0 */]);\r\n    };\r\n    OpenTask.prototype.confirmDuetime = function (event) {\r\n        this.openTask.submitData.duration = event.values[0];\r\n    };\r\n    // 可见范围类型选择    \r\n    OpenTask.prototype.showRegionSet = function () {\r\n        var defaultDuetime = this.openTask.submitData.range.rangeType || 1;\r\n        this.pickerData = [\r\n            {\r\n                list: __WEBPACK_IMPORTED_MODULE_6__config__[\"O\" /* TASK_REGION */],\r\n                currentIndex: defaultDuetime - 1\r\n            }\r\n        ];\r\n        this.pickerTheme = 'regionSet';\r\n        this.pickerType = '';\r\n        this.addModal(__WEBPACK_IMPORTED_MODULE_6__config__[\"D\" /* MODAL_0 */]);\r\n    };\r\n    OpenTask.prototype.confirmRegion = function (event) {\r\n        var selectIndex = event.indexvalues[0] + 1;\r\n        this.openTask.submitData.range.rangeType = selectIndex;\r\n        // 根据公开范围的变化需要\r\n        if (selectIndex !== 3 && selectIndex !== 4) {\r\n            // 没有公司匹配，清除公司匹配数据\r\n            this.openTask.submitData.range.companys = [];\r\n        }\r\n        if (selectIndex === 3 || selectIndex === 5) {\r\n            // 需要常住地匹配，引入用户信息中的常住地\r\n            if (this.openTask.submitData.range.permanentPlace === null) {\r\n                this.openTask.submitData.range.permanentPlace = this.userInfo.permanentPlace || '深圳市';\r\n            }\r\n        }\r\n        else {\r\n            this.openTask.submitData.range.permanentPlace = null;\r\n        }\r\n        this.errorHint(); // 主要检测公司数组是否不为空\r\n    };\r\n    // 显示常驻地选择\r\n    OpenTask.prototype.showCitySelect = function () {\r\n        // this.userInfo.permanentPlace\r\n        // 这里到时候会有一个省份的字段\r\n        this.pickerTheme = 'permanentPlace';\r\n        this.pickerType = 'city';\r\n        // const province = this.userInfo.province ? this.userInfo.province : '广东省';\r\n        var city = this.openTask.submitData.range.permanentPlace ? this.openTask.submitData.range.permanentPlace : '深圳市';\r\n        var province = Object(__WEBPACK_IMPORTED_MODULE_11__vendors_city__[\"b\" /* findProvince */])(city);\r\n        this.pickerData = [\r\n            {\r\n                list: __WEBPACK_IMPORTED_MODULE_11__vendors_city__[\"c\" /* provinces */],\r\n                currentIndex: __WEBPACK_IMPORTED_MODULE_11__vendors_city__[\"c\" /* provinces */].indexOf(province)\r\n            },\r\n            {\r\n                list: __WEBPACK_IMPORTED_MODULE_11__vendors_city__[\"a\" /* citys */][province],\r\n                currentIndex: __WEBPACK_IMPORTED_MODULE_11__vendors_city__[\"a\" /* citys */][province].indexOf(city)\r\n            }\r\n        ];\r\n        this.addModal(__WEBPACK_IMPORTED_MODULE_6__config__[\"D\" /* MODAL_0 */]);\r\n    };\r\n    // 跳转到公司选择页面\r\n    OpenTask.prototype.toAddCompanysPage = function () {\r\n        // Utils.saveItem(CACHE_NAME.addCompanyInOpenTask, this.openTask.submitData.range.companys);\r\n        this['$router'].push({\r\n            name: 'addCompanys'\r\n        });\r\n    };\r\n    // 删除公司\r\n    OpenTask.prototype.deleteCompany = function (company) {\r\n        var index = this.openTask.submitData.range.companys.indexOf(company);\r\n        this.openTask.submitData.range.companys.splice(index, 1);\r\n        this.errorHint();\r\n        console.log(__WEBPACK_IMPORTED_MODULE_12__bus_index__[\"a\" /* default */].companyCache);\r\n    };\r\n    OpenTask.prototype.confirmPermanentPlace = function (event) {\r\n        this.openTask.submitData.range.permanentPlace = event.values[1];\r\n    };\r\n    OpenTask.prototype.cancel = function () {\r\n        // history.back();\r\n        if (this.isShowModal) {\r\n            this.hideModal();\r\n        }\r\n    };\r\n    OpenTask.prototype.confirm = function (event) {\r\n        switch (event.theme) {\r\n            case 'dueTimeSet':\r\n                this.confirmDuetime(event);\r\n                break;\r\n            case 'regionSet':\r\n                this.confirmRegion(event);\r\n                break;\r\n            case 'permanentPlace':\r\n                this.confirmPermanentPlace(event);\r\n                break;\r\n        }\r\n        this.cancel();\r\n    };\r\n    OpenTask.prototype.submitOrder = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var totalAmoutSubmit, taskRes, taskInfo, params, e_1;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        this.showLoading();\r\n                        _a.label = 1;\r\n                    case 1:\r\n                        _a.trys.push([1, 3, , 4]);\r\n                        totalAmoutSubmit = this.openTask.submitData.totalAmount * 100;\r\n                        this.openTask.submitData.totalAmount = parseInt(totalAmoutSubmit.toFixed(0), 10);\r\n                        this.openTask.submitData.totalCount = parseInt(this.openTask.totalCount, 10);\r\n                        return [4 /*yield*/, __WEBPACK_IMPORTED_MODULE_8__api__[\"a\" /* default */].submitTaskOrder(this.openTask.submitData)];\r\n                    case 2:\r\n                        taskRes = _a.sent();\r\n                        // throw new Error('1234');\r\n                        this.hideLoading();\r\n                        taskInfo = taskRes.body.obj;\r\n                        // 复原数据\r\n                        this.initData();\r\n                        params = {\r\n                            taskId: taskInfo.taskId,\r\n                            action: 'fromTask'\r\n                        };\r\n                        // Utils.saveItem(CACHE_NAME.payParams, params);\r\n                        __WEBPACK_IMPORTED_MODULE_12__bus_index__[\"a\" /* default */].$emit(__WEBPACK_IMPORTED_MODULE_9__cache__[\"a\" /* CACHE_NAME */].payParams, params);\r\n                        this['$router'].replace({\r\n                            name: 'pay',\r\n                            params: params\r\n                        });\r\n                        return [3 /*break*/, 4];\r\n                    case 3:\r\n                        e_1 = _a.sent();\r\n                        this.hideLoading();\r\n                        this.calculateTotalAmount();\r\n                        this.showToast(new __WEBPACK_IMPORTED_MODULE_10__entity_toast__[\"a\" /* ToastMsg */](e_1.message));\r\n                        return [3 /*break*/, 4];\r\n                    case 4: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    __decorate([\r\n        Object(__WEBPACK_IMPORTED_MODULE_3_vuex_class__[\"c\" /* State */])(function (state) { return state.user.user; }),\r\n        __metadata(\"design:type\", Object)\r\n    ], OpenTask.prototype, \"userInfo\", void 0);\r\n    __decorate([\r\n        Object(__WEBPACK_IMPORTED_MODULE_3_vuex_class__[\"c\" /* State */])(function (state) { return state.modal.MODAL_0; }),\r\n        __metadata(\"design:type\", Object)\r\n    ], OpenTask.prototype, \"isShowModal\", void 0);\r\n    __decorate([\r\n        Object(__WEBPACK_IMPORTED_MODULE_3_vuex_class__[\"a\" /* Action */])('addModal'),\r\n        __metadata(\"design:type\", Object)\r\n    ], OpenTask.prototype, \"addModal\", void 0);\r\n    __decorate([\r\n        Object(__WEBPACK_IMPORTED_MODULE_3_vuex_class__[\"a\" /* Action */])('hideModal'),\r\n        __metadata(\"design:type\", Object)\r\n    ], OpenTask.prototype, \"hideModal\", void 0);\r\n    __decorate([\r\n        Object(__WEBPACK_IMPORTED_MODULE_3_vuex_class__[\"a\" /* Action */])('showToast'),\r\n        __metadata(\"design:type\", Object)\r\n    ], OpenTask.prototype, \"showToast\", void 0);\r\n    __decorate([\r\n        Object(__WEBPACK_IMPORTED_MODULE_3_vuex_class__[\"a\" /* Action */])('showLoading'),\r\n        __metadata(\"design:type\", Object)\r\n    ], OpenTask.prototype, \"showLoading\", void 0);\r\n    __decorate([\r\n        Object(__WEBPACK_IMPORTED_MODULE_3_vuex_class__[\"a\" /* Action */])('hideLoading'),\r\n        __metadata(\"design:type\", Object)\r\n    ], OpenTask.prototype, \"hideLoading\", void 0);\r\n    __decorate([\r\n        Object(__WEBPACK_IMPORTED_MODULE_2_vue_property_decorator__[\"Watch\"])('openTask.redPacketPrice'),\r\n        __metadata(\"design:type\", Function),\r\n        __metadata(\"design:paramtypes\", [Object, Object]),\r\n        __metadata(\"design:returntype\", void 0)\r\n    ], OpenTask.prototype, \"watchAmout\", null);\r\n    __decorate([\r\n        Object(__WEBPACK_IMPORTED_MODULE_2_vue_property_decorator__[\"Watch\"])('openTask.totalCount'),\r\n        __metadata(\"design:type\", Function),\r\n        __metadata(\"design:paramtypes\", [Object, Object]),\r\n        __metadata(\"design:returntype\", void 0)\r\n    ], OpenTask.prototype, \"watchCount\", null);\r\n    OpenTask = __decorate([\r\n        __WEBPACK_IMPORTED_MODULE_1_vue_class_component___default()({\r\n            components: {\r\n                'mu-text-field': __WEBPACK_IMPORTED_MODULE_4_muse_ui_textField__[\"a\" /* default */],\r\n                'picker': __WEBPACK_IMPORTED_MODULE_5__components_picker_index_vue__[\"a\" /* default */]\r\n            }\r\n        })\r\n    ], OpenTask);\r\n    return OpenTask;\r\n}(__WEBPACK_IMPORTED_MODULE_0_vue__[\"default\"]));\r\n/* harmony default export */ __webpack_exports__[\"a\"] = (OpenTask);\r\n\n\n/***/ }),\n\n/***/ 787:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    { staticClass: \"content\", attrs: { id: \"open-task-view\" } },\n    [\n      _c(\n        \"div\",\n        { staticClass: \"task-issue-content\" },\n        [\n          _vm.openTask.tipInfo !== \"\"\n            ? _c(\"div\", { staticClass: \"hint-tips\" }, [\n                _vm._v(_vm._s(_vm.openTask.tipInfo))\n              ])\n            : _vm._e(),\n          _vm._v(\" \"),\n          _c(\"div\", { staticClass: \"top-title-task\" }, [_vm._v(\"设置红包\")]),\n          _vm._v(\" \"),\n          _c(\"div\", { staticClass: \"item-input\" }, [\n            _c(\"span\", { staticClass: \"item-left\" }, [\n              _vm._v(\n                _vm._s(\n                  _vm.openTask.submitData.redPacketType === 1 ? \"单个金额\" : \"总金额\"\n                )\n              )\n            ]),\n            _vm._v(\" \"),\n            _c(\"span\", { staticClass: \"item-note\" }, [\n              _c(\"input\", {\n                directives: [\n                  {\n                    name: \"model\",\n                    rawName: \"v-model\",\n                    value: _vm.openTask.redPacketPrice,\n                    expression: \"openTask.redPacketPrice\"\n                  }\n                ],\n                ref: \"inputOpenTaskAmout\",\n                staticClass: \"price-input\",\n                attrs: {\n                  placeholder: \"0.00\",\n                  onkeyup:\n                    \"if(event.keyCode === 32){this.value=this.value.replace(/\\\\s*$/g, '');this.value=this.value.replace(/^\\\\s+/, '')}\"\n                },\n                domProps: { value: _vm.openTask.redPacketPrice },\n                on: {\n                  input: function($event) {\n                    if ($event.target.composing) {\n                      return\n                    }\n                    _vm.$set(\n                      _vm.openTask,\n                      \"redPacketPrice\",\n                      $event.target.value\n                    )\n                  }\n                }\n              }),\n              _vm._v(\"元\")\n            ])\n          ]),\n          _vm._v(\" \"),\n          _c(\"div\", { staticClass: \"info-note-task\" }, [\n            _c(\"span\", [\n              _vm._v(\n                _vm._s(\n                  _vm.openTask.submitData.redPacketType === 1\n                    ? \"当前为普通红包\"\n                    : \"当前为随机红包\"\n                ) + \"， \"\n              )\n            ]),\n            _c(\n              \"span\",\n              {\n                staticStyle: { color: \"#fe7777\" },\n                on: { click: _vm.changeRedBagType }\n              },\n              [\n                _vm._v(\n                  _vm._s(\n                    _vm.openTask.submitData.redPacketType === 1\n                      ? \"改为随机红包\"\n                      : \"改为普通红包\"\n                  )\n                )\n              ]\n            )\n          ]),\n          _vm._v(\" \"),\n          _c(\"div\", { staticClass: \"item-input\" }, [\n            _c(\"span\", { staticClass: \"item-left\" }, [_vm._v(\"红包数目\")]),\n            _vm._v(\" \"),\n            _c(\"span\", { staticClass: \"item-note\" }, [\n              _c(\"input\", {\n                directives: [\n                  {\n                    name: \"model\",\n                    rawName: \"v-model\",\n                    value: _vm.openTask.totalCount,\n                    expression: \"openTask.totalCount\"\n                  }\n                ],\n                staticClass: \"price-input\",\n                attrs: {\n                  name: \"totalAmout\",\n                  placeholder: \"请输入红包个数\",\n                  onkeyup:\n                    \"if(event.keyCode === 32){this.value=this.value.replace(/\\\\s*$/g, '');this.value=this.value.replace(/^\\\\s+/, '')}\"\n                },\n                domProps: { value: _vm.openTask.totalCount },\n                on: {\n                  oninput: function($event) {\n                    _vm.checkCount()\n                  },\n                  input: function($event) {\n                    if ($event.target.composing) {\n                      return\n                    }\n                    _vm.$set(_vm.openTask, \"totalCount\", $event.target.value)\n                  }\n                }\n              }),\n              _vm._v(\"个\")\n            ])\n          ]),\n          _vm._v(\" \"),\n          _c(\"mu-text-field\", {\n            attrs: {\n              label: \"留言\",\n              labelClass: \"text-field-title\",\n              hintTextClass: \"text-field-title\",\n              hintText: \"最多输入150个字\",\n              errorText: _vm.openTask.multiLineInputErrorText,\n              maxLength: 150,\n              multiLine: \"\",\n              underlineShow: false\n            },\n            on: { textOverflow: _vm.handleMultiLineOverflow },\n            model: {\n              value: _vm.openTask.submitData.leaveMsg,\n              callback: function($$v) {\n                _vm.$set(_vm.openTask.submitData, \"leaveMsg\", $$v)\n              },\n              expression: \"openTask.submitData.leaveMsg\"\n            }\n          }),\n          _vm._v(\" \"),\n          _c(\n            \"mu-list-item\",\n            {\n              staticClass: \"normal-list-item\",\n              attrs: {\n                title: \"设置任务期限\",\n                afterText: _vm.openTask.submitData.duration + \"天\"\n              },\n              on: { click: _vm.showDuetimeSet }\n            },\n            [\n              _c(\"i\", {\n                staticClass: \"iconfont icon-list-more\",\n                attrs: { slot: \"right\" },\n                slot: \"right\"\n              })\n            ]\n          ),\n          _vm._v(\" \"),\n          _c(\n            \"mu-list-item\",\n            {\n              staticClass: \"normal-list-item\",\n              attrs: { title: \"设置公开范围\", afterText: _vm.RangeText },\n              on: {\n                click: function($event) {\n                  _vm.showRegionSet()\n                }\n              }\n            },\n            [\n              _c(\"i\", {\n                staticClass: \"iconfont icon-list-more\",\n                attrs: { slot: \"right\" },\n                slot: \"right\"\n              })\n            ]\n          ),\n          _vm._v(\" \"),\n          _c(\n            \"div\",\n            { staticClass: \"info-note-task\" },\n            [\n              _vm._v(\n                \"提示：仅该范围内的用户能看到您的悬赏信息，其中单位和地区指用户填写的工作单位和常住地。\\n            \"\n              ),\n              _c(\"router-link\", { attrs: { to: { name: \"userProtocol\" } } }, [\n                _vm._v(\"详细规则\")\n              ])\n            ],\n            1\n          ),\n          _vm._v(\" \"),\n          _vm.openTask.submitData.range.rangeType === 3 ||\n          _vm.openTask.submitData.range.rangeType === 5\n            ? _c(\n                \"mu-list-item\",\n                {\n                  staticClass: \"normal-list-item\",\n                  attrs: {\n                    title: \"限定常住地\",\n                    afterText:\n                      _vm.openTask.submitData.range.permanentPlace === null\n                        ? \"请选择匹配城市\"\n                        : _vm.openTask.submitData.range.permanentPlace\n                  },\n                  on: {\n                    click: function($event) {\n                      _vm.showCitySelect()\n                    }\n                  }\n                },\n                [\n                  _c(\"i\", {\n                    staticClass: \"iconfont icon-list-more\",\n                    attrs: { slot: \"right\" },\n                    slot: \"right\"\n                  })\n                ]\n              )\n            : _vm._e(),\n          _vm._v(\" \"),\n          _vm.openTask.submitData.range.rangeType === 3 ||\n          _vm.openTask.submitData.range.rangeType === 4\n            ? _c(\n                \"mu-list-item\",\n                {\n                  staticClass: \"normal-list-item\",\n                  attrs: { title: \"限定单位\" },\n                  on: {\n                    click: function($event) {\n                      _vm.toAddCompanysPage()\n                    }\n                  }\n                },\n                [\n                  _c(\"i\", {\n                    staticClass: \"iconfont icon-list-more\",\n                    attrs: { slot: \"right\" },\n                    slot: \"right\"\n                  })\n                ]\n              )\n            : _vm._e(),\n          _vm._v(\" \"),\n          _vm.openTask.submitData.range.companys.length > 0\n            ? _c(\n                \"mu-list\",\n                _vm._l(_vm.openTask.submitData.range.companys, function(\n                  company,\n                  index\n                ) {\n                  return _c(\n                    \"mu-list-item\",\n                    {\n                      key: index,\n                      staticClass: \"normal-list-item company-item\"\n                    },\n                    [\n                      _c(\"span\", { staticClass: \"item-name\" }, [\n                        _vm._v(_vm._s(company))\n                      ]),\n                      _vm._v(\" \"),\n                      _c(\"span\", { staticClass: \"item-icon\" }, [\n                        _c(\"i\", {\n                          staticClass: \"iconfont icon-jianhao-big\",\n                          on: {\n                            click: function($event) {\n                              _vm.deleteCompany(company)\n                            }\n                          }\n                        })\n                      ])\n                    ]\n                  )\n                })\n              )\n            : _vm._e()\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"div\",\n        { staticClass: \"bottom-submit-button\" },\n        [\n          _c(\n            \"mu-raised-button\",\n            {\n              staticClass: \"submit-button\",\n              attrs: { disabled: !_vm.openTask.isableSubmit, primary: \"\" },\n              on: {\n                click: function($event) {\n                  _vm.submitOrder()\n                }\n              }\n            },\n            [_vm._v(\"提交订单\")]\n          ),\n          _vm._v(\" \"),\n          _c(\"span\", { staticClass: \"total-price\" }, [\n            _vm._v(\"合计：\"),\n            _c(\"i\", { staticClass: \"iconfont icon-match-maker-price\" }, [\n              _vm._v(_vm._s(_vm.openTask.submitData.totalAmount.toFixed(2)))\n            ])\n          ])\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _vm.showOpenTaskModal\n        ? _c(\"picker\", {\n            attrs: {\n              isShowPicker: _vm.isShowModal,\n              theme: _vm.pickerTheme,\n              type: _vm.pickerType,\n              pickerData: _vm.pickerData\n            },\n            on: { cancel: _vm.cancel, confirm: _vm.confirm }\n          })\n        : _vm._e()\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\nif (false) {\n  module.hot.accept()\n  if (module.hot.data) {\n    require(\"vue-hot-reload-api\")      .rerender(\"data-v-6b6e17d4\", esExports)\n  }\n}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// asset/js/31.bfbc43229ccdea64d3df.js","var disposed = false\nfunction injectStyle (ssrContext) {\n  if (disposed) return\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"id\\\":4,\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6b6e17d4\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"globalVars\\\":{\\\"museUiTheme\\\":\\\"'J:\\\\\\\\qianduan\\\\\\\\vue\\\\\\\\vue-project\\\\\\\\ailink-wechat\\\\\\\\src\\\\\\\\assets\\\\\\\\css\\\\\\\\muse-custom-theme.less'\\\",\\\"museUiStylePath\\\":\\\"'J:\\\\\\\\qianduan\\\\\\\\vue\\\\\\\\vue-project\\\\\\\\ailink-wechat\\\\\\\\node_modules\\\\\\\\muse-ui\\\\\\\\src\\\\\\\\styles'\\\"}}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0&bustCache!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!awesome-typescript-loader!tslint-loader!./index.ts\"/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6b6e17d4\\\",\\\"hasScoped\\\":false,\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0&bustCache!./index.vue\"\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\nComponent.options.__file = \"src\\\\pages\\\\openTask\\\\index.vue\"\nif (Component.esModule && Object.keys(Component.esModule).some(function (key) {  return key !== \"default\" && key.substr(0, 2) !== \"__\"})) {  console.error(\"named exports are not supported in *.vue files.\")}\n\n/* hot reload */\nif (module.hot) {(function () {\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-6b6e17d4\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-6b6e17d4\", Component.options)\n' + '  }\n  module.hot.dispose(function (data) {\n    disposed = true\n  })\n})()}\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/openTask/index.vue\n// module id = 567\n// module chunks = 31","\r\n/*\r\n * @Author: Rybin \r\n * @Date: 2017-12-25 08:43:58 \r\n * @Last Modified by: Rybin\r\n * @Last Modified time: 2018-01-26 14:43:02\r\n * @description: {} \r\n */\r\nimport Vue from 'vue';\r\nimport Component from 'vue-class-component';\r\nimport { Watch } from 'vue-property-decorator';\r\nimport { Action, State } from 'vuex-class';\r\n\r\nimport TextField from 'muse-ui/textField';\r\nimport { IIssueOpenTask } from '~/entity/taskSelect';\r\n\r\nimport Picker from '~/components/picker/index.vue';\r\nimport { IPickerEvent, IPickerItem } from '~/components/picker';\r\nimport { MODAL_0, TASK_REGION, MAX_RED_PACKET_NUMBER, MAX_RED_PACKET_AMOUT } from '~/config';\r\nimport router from '~/router';\r\nimport Api from '~/api';\r\nimport { CACHE_NAME } from '~/cache';\r\n// import Utils from '~/utils';\r\nimport { ToastMsg } from '~/entity/toast';\r\nimport { citys, provinces, findProvince } from '~/vendors/city';\r\nimport { IPayParams } from '~/entity/route_params';\r\n\r\nimport bus from '~/bus/index'; // 引入bus事件存储组建\r\n\r\ninterface IOpenTask {\r\n    submitData: IIssueOpenTask;\r\n    redPacketPrice: string;\r\n    totalCount: string;\r\n    isableSubmit: boolean;\r\n    tipInfo: string;\r\n    multiLineInputErrorText: string;\r\n    dateOptions: number[];\r\n}\r\n\r\n@Component({\r\n    components: {\r\n        'mu-text-field': TextField,\r\n        'picker': Picker\r\n    }\r\n})\r\nexport default class OpenTask extends Vue {\r\n    // 初始化数据\r\n    submitData: IIssueOpenTask = {\r\n        taskType: 2, // 任务类型{1.定向任务、2.公开任务、3.系统任务}\r\n        subject: '公开任务', // 任务标题前缀\r\n        duration: 30, // 任务时长    \r\n        leaveMsg: '', // 留言\r\n        subType: 2, // 区分是否需要认证后才能发起的任务类型，2为需要，否则为null    \r\n        totalAmount: 0.00, // 总金额 \r\n        totalCount: null, // 红包总个数\r\n        redPacketType: 1, // 公开任务红包类型（1：普通红包，2：随机红包）\r\n        range: {\r\n            rangeType: 1, // 范围类型，{1：全公开，2：仅好友，3：公司和常住地匹配，4：公司匹配，5：常住地匹配}\r\n            permanentPlace: null, // 常住地\r\n            companys: [] // 公司集合\r\n        }\r\n    };\r\n    openTask: IOpenTask = {\r\n        submitData: this.submitData,\r\n        redPacketPrice: '',\r\n        totalCount: '',\r\n        isableSubmit: false,\r\n        tipInfo: '',\r\n        multiLineInputErrorText: '',\r\n        dateOptions: []\r\n    };\r\n    // inputOpenTaskAmout: HTMLElement = null;\r\n    /* picker 组件 */\r\n    pickerTheme: string = null;\r\n    pickerType: string = null;\r\n    pickerData: IPickerItem[] = null;\r\n    showOpenTaskModal = false;\r\n    @State(state => state.user.user)\r\n    userInfo;\r\n\r\n    /* picker 组件模态框 */\r\n    @State(state => state.modal.MODAL_0)\r\n    isShowModal;\r\n\r\n    @Action('addModal')\r\n    addModal;\r\n\r\n    @Action('hideModal')\r\n    hideModal;\r\n\r\n    @Action('showToast')\r\n    showToast;\r\n\r\n    @Action('showLoading')\r\n    showLoading;\r\n    @Action('hideLoading')\r\n    hideLoading;\r\n\r\n    get companyCache() {\r\n        return bus.companyCache; \r\n    }\r\n\r\n    mounted() {\r\n        console.log('mounted');\r\n        router.beforeEach((to, from, next) => {\r\n            if (to.name === 'taskSelect' && from.name === 'openTask') {\r\n                this.initData();\r\n                next();\r\n            } else {\r\n                next();\r\n            }\r\n        });\r\n        this.calculateTotalAmount();\r\n    }\r\n\r\n    activated() {\r\n        this.showOpenTaskModal = true;\r\n        for (let i = 1; i < 25; i++) {\r\n            this.openTask.dateOptions.push(i * 5);\r\n        }\r\n        // this.openTask.submitData.range.companys = Utils.getItem(CACHE_NAME.addCompanyInOpenTask, false);\r\n        this.openTask.submitData.range.companys = this.companyCache;\r\n        this.errorHint();\r\n    }\r\n\r\n    deactivated() {\r\n        this.showOpenTaskModal = false;\r\n        if (this.isShowModal) {\r\n            this.cancel();\r\n        }\r\n    }\r\n\r\n    initData() {\r\n        this.submitData = {\r\n            taskType: 2, // 任务类型{1.定向任务、2.公开任务、3.系统任务}\r\n            subject: '公开任务', // 任务标题前缀\r\n            duration: 30, // 任务时长    \r\n            leaveMsg: '', // 留言\r\n            subType: 2, // 区分是否需要认证后才能发起的任务类型，2为需要，否则为null    \r\n            totalAmount: 0.00, // 总金额 \r\n            totalCount: null, // 红包总个数\r\n            redPacketType: 1, // 公开任务红包类型（1：普通红包，2：随机红包）\r\n            range: {\r\n                rangeType: 1, // 范围类型，{1：全公开，2：仅好友，3：公司和常住地匹配，4：公司匹配，5：常住地匹配}\r\n                permanentPlace: null, // 常住地\r\n                companys: [] // 公司集合\r\n            }\r\n        };\r\n        this.openTask = {\r\n            submitData: this.submitData,\r\n            redPacketPrice: '',\r\n            totalCount: '',\r\n            isableSubmit: false,\r\n            tipInfo: '',\r\n            multiLineInputErrorText: '',\r\n            dateOptions: []\r\n        };\r\n        bus.$emit(CACHE_NAME.addCompanyInOpenTask, []); // 清除缓存的公司数据\r\n        // Utils.removeItem(CACHE_NAME.addCompanyInOpenTask); // 清除缓存的公司数据\r\n    }\r\n\r\n    @Watch('openTask.redPacketPrice')\r\n    watchAmout(newVal, oldVal) {\r\n        console.log('redPacketPrice change!!!!!!!!!!');\r\n        this.checkAmout();\r\n    }\r\n    @Watch('openTask.totalCount')\r\n    watchCount(newVal, oldVal) {\r\n        console.log('totalCount change!!!!!!!!!!');\r\n        this.checkCount();\r\n    }\r\n    // 公开范围选项显示转化\r\n    get RangeText() {\r\n        return TASK_REGION[this.openTask.submitData.range.rangeType - 1];\r\n    }\r\n\r\n    handleMultiLineOverflow(isOverflow) {\r\n        this.openTask.multiLineInputErrorText = isOverflow ? '超过字数限制啦！' : '';\r\n        // this.openTask.isableSubmit = !isOverflow;\r\n        this.errorHint();\r\n    }\r\n\r\n    calculateTotalAmount() {\r\n        // 总金额计算\r\n        if (this.openTask.totalCount === '' || this.openTask.redPacketPrice === '') {\r\n            // this.openTask.totalAmount = this.openTask.redPacketPrice;\r\n            this.openTask.submitData.totalAmount = 0;\r\n        } else if (this.openTask.submitData.redPacketType === 1) {\r\n            // this.openTask.submitData.totalAmount = this.openTask.submitData.totalCount * parseFloat(this.openTask.redPacketPrice);\r\n            this.openTask.submitData.totalAmount = parseInt(this.openTask.totalCount, 10) * parseFloat(this.openTask.redPacketPrice);\r\n        } else {\r\n            this.openTask.submitData.totalAmount = parseFloat(this.openTask.redPacketPrice);\r\n        }\r\n    }\r\n\r\n    // 切换红包类型\r\n    changeRedBagType() {\r\n        // debugger;\r\n        if (this.openTask.submitData.redPacketType === 1) {            \r\n            // 变成随机红包，总金额与红包金额相等\r\n            if (this.openTask.submitData.totalAmount === 0) {\r\n                this.openTask.submitData.redPacketType = 2;\r\n                this.openTask.redPacketPrice = '';\r\n            } else {\r\n                this.openTask.redPacketPrice = this.openTask.submitData.totalAmount.toFixed(2);\r\n                this.openTask.submitData.redPacketType = 2;\r\n            }            \r\n        } else {\r\n            // 变成普通红包\r\n            if (this.openTask.submitData.totalAmount === 0) {\r\n                this.openTask.submitData.redPacketType = 1;\r\n                this.openTask.redPacketPrice = '';\r\n            } else {\r\n                let averagePrice = this.openTask.submitData.totalAmount / parseInt(this.openTask.totalCount, 10);\r\n                this.openTask.redPacketPrice = averagePrice.toFixed(2);\r\n                this.openTask.submitData.totalAmount = averagePrice * parseInt(this.openTask.totalCount, 10);\r\n                this.openTask.submitData.redPacketType = 1;\r\n            }            \r\n        }\r\n    }\r\n\r\n    // 监控红包金额更改\r\n    checkAmout() {\r\n        // 格式正则匹配\r\n        this.openTask.redPacketPrice = this.openTask.redPacketPrice.replace(/[^\\d.]/g, ''); // 清除“数字”和“.”以外的字符\r\n        this.openTask.redPacketPrice = this.openTask.redPacketPrice.replace(/\\.{2,}/g, '.'); // 只保留第一个. 清除多余的\r\n        this.openTask.redPacketPrice = this.openTask.redPacketPrice.replace('.', '$#$').replace(/\\./g, '').replace('$#$', '.');\r\n        this.openTask.redPacketPrice = this.openTask.redPacketPrice.replace(/^(0+)(\\d+)\\.(\\d*).*$/, '$2.$3'); // 有小数点时，去除头部多余的 0,避免出现 000.12\r\n        this.openTask.redPacketPrice = this.openTask.redPacketPrice.replace(/^\\.(\\d+).*$/, '0.$1'); // 首位为小数点，自动在头部添加0\r\n        this.openTask.redPacketPrice = this.openTask.redPacketPrice.replace(/^(\\d+)\\.(\\d\\d).*$/, '$1.$2'); // 只能输入两个小数 /^(\\-)*(\\d+)\\.(\\d\\d).*$/\r\n        if (this.openTask.redPacketPrice.indexOf('.') < 0 && this.openTask.redPacketPrice !== '') { // 以上已经过滤，此处控制的是如果没有小数点，首位不能为类似于 01、02的金额\r\n            this.openTask.redPacketPrice = String(parseFloat(this.openTask.redPacketPrice));\r\n            //  this.openTask.redPacketPrice = this.redPacketPriceTemp.toString;\r\n        }\r\n        this.errorHint();\r\n        this.calculateTotalAmount();\r\n    }\r\n\r\n    // 监控红包个数更改\r\n    checkCount() {\r\n        // 格式正则匹配\r\n        if (this.openTask.totalCount.length === 1) {\r\n            this.openTask.totalCount = this.openTask.totalCount.replace(/[^1-9]/g, '1'); // 输入单个非数字的字符时，只能为默认值1\r\n        } else {\r\n            this.openTask.totalCount = this.openTask.totalCount.replace(/\\D/g, ''); // 对所有的非数字字符剔除\r\n            this.openTask.totalCount = this.openTask.totalCount === '' ? '' : this.openTask.totalCount;\r\n            if (this.openTask.totalCount.indexOf('.') < 0 && this.openTask.totalCount !== '') { // 首位不能为类似于 01、02的金额\r\n                this.openTask.totalCount = String(parseInt(this.openTask.totalCount, 10));\r\n                // console.log(typeof(this.openTask.submitData.totalCount));\r\n            }\r\n        }\r\n        this.errorHint();\r\n        this.calculateTotalAmount();\r\n    }\r\n\r\n    errorHint() {\r\n        const totalCount = parseInt(this.openTask.totalCount, 10);\r\n        let leaveMsgEnable = true; // 判断留言字数，进行提交按钮状态的设置\r\n        let companyEnable = true; // 判断选中的公司不为空，进行提交按钮状态的设置\r\n\r\n        // 输入的红包金额错误类型提示\r\n        if (parseFloat(this.openTask.redPacketPrice) > 0) {\r\n            if (this.openTask.submitData.redPacketType === 1 && parseFloat(this.openTask.redPacketPrice) > MAX_RED_PACKET_AMOUT) {\r\n                this.openTask.isableSubmit = false;\r\n                this.openTask.tipInfo = `单个红包金额不能超过${MAX_RED_PACKET_AMOUT}元`;\r\n                return;\r\n            } else if (this.openTask.submitData.redPacketType === 2 && (this.openTask.submitData.totalAmount / totalCount > MAX_RED_PACKET_AMOUT)) {\r\n                this.openTask.isableSubmit = false;\r\n                this.openTask.tipInfo = `单个红包金额不能超过${MAX_RED_PACKET_AMOUT}元`;\r\n                return;\r\n            } else {\r\n                this.openTask.isableSubmit = true;\r\n                this.openTask.tipInfo = '';\r\n            }\r\n        } else {\r\n            this.openTask.isableSubmit = false;\r\n            this.openTask.tipInfo = '请输入大于0的红包金额';\r\n            return;\r\n        }\r\n        // 如果红包金额没错，继续判断红包个数\r\n        if (totalCount <= MAX_RED_PACKET_NUMBER && totalCount > 0) {\r\n            this.openTask.isableSubmit = true;\r\n            this.openTask.tipInfo = '';\r\n        } else if (totalCount > MAX_RED_PACKET_NUMBER) {\r\n            this.openTask.tipInfo = `最多只能发${MAX_RED_PACKET_NUMBER}个红包，请修改红包个数`;\r\n            // this.openTask.totalCount = 99;\r\n            this.openTask.isableSubmit = false;\r\n        } else if (totalCount <= 0) {\r\n            this.openTask.tipInfo = '请输入大于0的红包个数';\r\n            this.openTask.isableSubmit = false;\r\n        } else { // totalCount为nan\r\n            this.openTask.tipInfo = '请输入大于0的红包个数';\r\n            this.openTask.isableSubmit = false;\r\n        }\r\n\r\n        if (this.openTask.submitData.leaveMsg.length > 150) {\r\n            leaveMsgEnable = false;\r\n        }\r\n        if (this.openTask.submitData.range.rangeType === 3 || this.openTask.submitData.range.rangeType === 4) {\r\n            companyEnable = this.openTask.submitData.range.companys.length > 0;\r\n        }\r\n        if (!leaveMsgEnable || !companyEnable) {\r\n            this.openTask.isableSubmit = false;\r\n        }\r\n    }\r\n\r\n    // 订单期限选择    \r\n    showDuetimeSet() {\r\n        const defaultDuetime = this.openTask.submitData.duration || 30;\r\n        this.pickerData = [\r\n            {\r\n                list: this.openTask.dateOptions,\r\n                currentIndex: this.openTask.dateOptions.indexOf(defaultDuetime)\r\n            }\r\n        ];\r\n        this.pickerTheme = 'dueTimeSet';\r\n        this.pickerType = '';\r\n        this.addModal(MODAL_0);\r\n    }\r\n    confirmDuetime(event: IPickerEvent) {\r\n        this.openTask.submitData.duration = event.values[0];\r\n    }\r\n\r\n    // 可见范围类型选择    \r\n    showRegionSet() {\r\n        const defaultDuetime = this.openTask.submitData.range.rangeType || 1;\r\n        this.pickerData = [\r\n            {\r\n                list: TASK_REGION,\r\n                currentIndex: defaultDuetime - 1\r\n            }\r\n        ];\r\n        this.pickerTheme = 'regionSet';\r\n        this.pickerType = '';\r\n        this.addModal(MODAL_0);\r\n    }\r\n    confirmRegion(event: IPickerEvent) {\r\n        const selectIndex = event.indexvalues[0] + 1;\r\n        this.openTask.submitData.range.rangeType = selectIndex;\r\n        // 根据公开范围的变化需要\r\n        if (selectIndex !== 3 && selectIndex !== 4) {\r\n            // 没有公司匹配，清除公司匹配数据\r\n            this.openTask.submitData.range.companys = [];\r\n        }\r\n        if (selectIndex === 3 || selectIndex === 5) {\r\n            // 需要常住地匹配，引入用户信息中的常住地\r\n            if (this.openTask.submitData.range.permanentPlace === null) {\r\n                this.openTask.submitData.range.permanentPlace = this.userInfo.permanentPlace || '深圳市';\r\n            }\r\n        } else {\r\n            this.openTask.submitData.range.permanentPlace = null;\r\n        }\r\n        this.errorHint(); // 主要检测公司数组是否不为空\r\n    }\r\n    // 显示常驻地选择\r\n    showCitySelect() {\r\n        // this.userInfo.permanentPlace\r\n        // 这里到时候会有一个省份的字段\r\n        this.pickerTheme = 'permanentPlace';\r\n        this.pickerType = 'city';\r\n        // const province = this.userInfo.province ? this.userInfo.province : '广东省';\r\n        const city = this.openTask.submitData.range.permanentPlace ? this.openTask.submitData.range.permanentPlace : '深圳市';\r\n        const province = findProvince(city);\r\n        this.pickerData = [\r\n            {\r\n                list: provinces,\r\n                currentIndex: provinces.indexOf(province)\r\n            },\r\n            {\r\n                list: citys[province],\r\n                currentIndex: citys[province].indexOf(city)\r\n            }\r\n        ];\r\n        this.addModal(MODAL_0);\r\n    }\r\n\r\n    // 跳转到公司选择页面\r\n    toAddCompanysPage() {\r\n        // Utils.saveItem(CACHE_NAME.addCompanyInOpenTask, this.openTask.submitData.range.companys);\r\n        this['$router'].push({\r\n            name: 'addCompanys'\r\n        });\r\n    }\r\n\r\n    // 删除公司\r\n    deleteCompany(company) {\r\n        const index = this.openTask.submitData.range.companys.indexOf(company);\r\n        this.openTask.submitData.range.companys.splice(index, 1);\r\n        this.errorHint();\r\n        console.log(bus.companyCache);\r\n    }\r\n\r\n    confirmPermanentPlace(event: IPickerEvent) {\r\n        this.openTask.submitData.range.permanentPlace = event.values[1];\r\n    }\r\n\r\n    cancel() {\r\n        // history.back();\r\n        if (this.isShowModal) {\r\n            this.hideModal();\r\n        }\r\n    }\r\n\r\n    confirm(event: IPickerEvent) {\r\n        switch (event.theme) {\r\n            case 'dueTimeSet':\r\n                this.confirmDuetime(event);\r\n                break;\r\n            case 'regionSet':\r\n                this.confirmRegion(event);\r\n                break;\r\n            case 'permanentPlace':\r\n                this.confirmPermanentPlace(event);\r\n                break;\r\n        }\r\n        this.cancel();\r\n    }\r\n\r\n    async submitOrder() {\r\n        this.showLoading();\r\n        try {\r\n            const totalAmoutSubmit = this.openTask.submitData.totalAmount * 100;\r\n            this.openTask.submitData.totalAmount = parseInt(totalAmoutSubmit.toFixed(0), 10);\r\n            this.openTask.submitData.totalCount = parseInt(this.openTask.totalCount, 10);\r\n            const taskRes = await Api.submitTaskOrder(this.openTask.submitData);\r\n            // throw new Error('1234');\r\n            this.hideLoading();\r\n            const taskInfo = taskRes.body.obj;\r\n            // 复原数据\r\n            this.initData();\r\n            const params: IPayParams = {\r\n                taskId: taskInfo.taskId,\r\n                action: 'fromTask'\r\n            };\r\n            \r\n            // Utils.saveItem(CACHE_NAME.payParams, params);\r\n            bus.$emit(CACHE_NAME.payParams, params);\r\n\r\n            this['$router'].replace({\r\n                name: 'pay',\r\n                params\r\n            });\r\n        } catch (e) {\r\n            this.hideLoading();\r\n            this.calculateTotalAmount();\r\n            this.showToast(new ToastMsg(e.message));\r\n        }\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader!./src/pages/openTask/index.ts","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    { staticClass: \"content\", attrs: { id: \"open-task-view\" } },\n    [\n      _c(\n        \"div\",\n        { staticClass: \"task-issue-content\" },\n        [\n          _vm.openTask.tipInfo !== \"\"\n            ? _c(\"div\", { staticClass: \"hint-tips\" }, [\n                _vm._v(_vm._s(_vm.openTask.tipInfo))\n              ])\n            : _vm._e(),\n          _vm._v(\" \"),\n          _c(\"div\", { staticClass: \"top-title-task\" }, [_vm._v(\"设置红包\")]),\n          _vm._v(\" \"),\n          _c(\"div\", { staticClass: \"item-input\" }, [\n            _c(\"span\", { staticClass: \"item-left\" }, [\n              _vm._v(\n                _vm._s(\n                  _vm.openTask.submitData.redPacketType === 1 ? \"单个金额\" : \"总金额\"\n                )\n              )\n            ]),\n            _vm._v(\" \"),\n            _c(\"span\", { staticClass: \"item-note\" }, [\n              _c(\"input\", {\n                directives: [\n                  {\n                    name: \"model\",\n                    rawName: \"v-model\",\n                    value: _vm.openTask.redPacketPrice,\n                    expression: \"openTask.redPacketPrice\"\n                  }\n                ],\n                ref: \"inputOpenTaskAmout\",\n                staticClass: \"price-input\",\n                attrs: {\n                  placeholder: \"0.00\",\n                  onkeyup:\n                    \"if(event.keyCode === 32){this.value=this.value.replace(/\\\\s*$/g, '');this.value=this.value.replace(/^\\\\s+/, '')}\"\n                },\n                domProps: { value: _vm.openTask.redPacketPrice },\n                on: {\n                  input: function($event) {\n                    if ($event.target.composing) {\n                      return\n                    }\n                    _vm.$set(\n                      _vm.openTask,\n                      \"redPacketPrice\",\n                      $event.target.value\n                    )\n                  }\n                }\n              }),\n              _vm._v(\"元\")\n            ])\n          ]),\n          _vm._v(\" \"),\n          _c(\"div\", { staticClass: \"info-note-task\" }, [\n            _c(\"span\", [\n              _vm._v(\n                _vm._s(\n                  _vm.openTask.submitData.redPacketType === 1\n                    ? \"当前为普通红包\"\n                    : \"当前为随机红包\"\n                ) + \"， \"\n              )\n            ]),\n            _c(\n              \"span\",\n              {\n                staticStyle: { color: \"#fe7777\" },\n                on: { click: _vm.changeRedBagType }\n              },\n              [\n                _vm._v(\n                  _vm._s(\n                    _vm.openTask.submitData.redPacketType === 1\n                      ? \"改为随机红包\"\n                      : \"改为普通红包\"\n                  )\n                )\n              ]\n            )\n          ]),\n          _vm._v(\" \"),\n          _c(\"div\", { staticClass: \"item-input\" }, [\n            _c(\"span\", { staticClass: \"item-left\" }, [_vm._v(\"红包数目\")]),\n            _vm._v(\" \"),\n            _c(\"span\", { staticClass: \"item-note\" }, [\n              _c(\"input\", {\n                directives: [\n                  {\n                    name: \"model\",\n                    rawName: \"v-model\",\n                    value: _vm.openTask.totalCount,\n                    expression: \"openTask.totalCount\"\n                  }\n                ],\n                staticClass: \"price-input\",\n                attrs: {\n                  name: \"totalAmout\",\n                  placeholder: \"请输入红包个数\",\n                  onkeyup:\n                    \"if(event.keyCode === 32){this.value=this.value.replace(/\\\\s*$/g, '');this.value=this.value.replace(/^\\\\s+/, '')}\"\n                },\n                domProps: { value: _vm.openTask.totalCount },\n                on: {\n                  oninput: function($event) {\n                    _vm.checkCount()\n                  },\n                  input: function($event) {\n                    if ($event.target.composing) {\n                      return\n                    }\n                    _vm.$set(_vm.openTask, \"totalCount\", $event.target.value)\n                  }\n                }\n              }),\n              _vm._v(\"个\")\n            ])\n          ]),\n          _vm._v(\" \"),\n          _c(\"mu-text-field\", {\n            attrs: {\n              label: \"留言\",\n              labelClass: \"text-field-title\",\n              hintTextClass: \"text-field-title\",\n              hintText: \"最多输入150个字\",\n              errorText: _vm.openTask.multiLineInputErrorText,\n              maxLength: 150,\n              multiLine: \"\",\n              underlineShow: false\n            },\n            on: { textOverflow: _vm.handleMultiLineOverflow },\n            model: {\n              value: _vm.openTask.submitData.leaveMsg,\n              callback: function($$v) {\n                _vm.$set(_vm.openTask.submitData, \"leaveMsg\", $$v)\n              },\n              expression: \"openTask.submitData.leaveMsg\"\n            }\n          }),\n          _vm._v(\" \"),\n          _c(\n            \"mu-list-item\",\n            {\n              staticClass: \"normal-list-item\",\n              attrs: {\n                title: \"设置任务期限\",\n                afterText: _vm.openTask.submitData.duration + \"天\"\n              },\n              on: { click: _vm.showDuetimeSet }\n            },\n            [\n              _c(\"i\", {\n                staticClass: \"iconfont icon-list-more\",\n                attrs: { slot: \"right\" },\n                slot: \"right\"\n              })\n            ]\n          ),\n          _vm._v(\" \"),\n          _c(\n            \"mu-list-item\",\n            {\n              staticClass: \"normal-list-item\",\n              attrs: { title: \"设置公开范围\", afterText: _vm.RangeText },\n              on: {\n                click: function($event) {\n                  _vm.showRegionSet()\n                }\n              }\n            },\n            [\n              _c(\"i\", {\n                staticClass: \"iconfont icon-list-more\",\n                attrs: { slot: \"right\" },\n                slot: \"right\"\n              })\n            ]\n          ),\n          _vm._v(\" \"),\n          _c(\n            \"div\",\n            { staticClass: \"info-note-task\" },\n            [\n              _vm._v(\n                \"提示：仅该范围内的用户能看到您的悬赏信息，其中单位和地区指用户填写的工作单位和常住地。\\n            \"\n              ),\n              _c(\"router-link\", { attrs: { to: { name: \"userProtocol\" } } }, [\n                _vm._v(\"详细规则\")\n              ])\n            ],\n            1\n          ),\n          _vm._v(\" \"),\n          _vm.openTask.submitData.range.rangeType === 3 ||\n          _vm.openTask.submitData.range.rangeType === 5\n            ? _c(\n                \"mu-list-item\",\n                {\n                  staticClass: \"normal-list-item\",\n                  attrs: {\n                    title: \"限定常住地\",\n                    afterText:\n                      _vm.openTask.submitData.range.permanentPlace === null\n                        ? \"请选择匹配城市\"\n                        : _vm.openTask.submitData.range.permanentPlace\n                  },\n                  on: {\n                    click: function($event) {\n                      _vm.showCitySelect()\n                    }\n                  }\n                },\n                [\n                  _c(\"i\", {\n                    staticClass: \"iconfont icon-list-more\",\n                    attrs: { slot: \"right\" },\n                    slot: \"right\"\n                  })\n                ]\n              )\n            : _vm._e(),\n          _vm._v(\" \"),\n          _vm.openTask.submitData.range.rangeType === 3 ||\n          _vm.openTask.submitData.range.rangeType === 4\n            ? _c(\n                \"mu-list-item\",\n                {\n                  staticClass: \"normal-list-item\",\n                  attrs: { title: \"限定单位\" },\n                  on: {\n                    click: function($event) {\n                      _vm.toAddCompanysPage()\n                    }\n                  }\n                },\n                [\n                  _c(\"i\", {\n                    staticClass: \"iconfont icon-list-more\",\n                    attrs: { slot: \"right\" },\n                    slot: \"right\"\n                  })\n                ]\n              )\n            : _vm._e(),\n          _vm._v(\" \"),\n          _vm.openTask.submitData.range.companys.length > 0\n            ? _c(\n                \"mu-list\",\n                _vm._l(_vm.openTask.submitData.range.companys, function(\n                  company,\n                  index\n                ) {\n                  return _c(\n                    \"mu-list-item\",\n                    {\n                      key: index,\n                      staticClass: \"normal-list-item company-item\"\n                    },\n                    [\n                      _c(\"span\", { staticClass: \"item-name\" }, [\n                        _vm._v(_vm._s(company))\n                      ]),\n                      _vm._v(\" \"),\n                      _c(\"span\", { staticClass: \"item-icon\" }, [\n                        _c(\"i\", {\n                          staticClass: \"iconfont icon-jianhao-big\",\n                          on: {\n                            click: function($event) {\n                              _vm.deleteCompany(company)\n                            }\n                          }\n                        })\n                      ])\n                    ]\n                  )\n                })\n              )\n            : _vm._e()\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"div\",\n        { staticClass: \"bottom-submit-button\" },\n        [\n          _c(\n            \"mu-raised-button\",\n            {\n              staticClass: \"submit-button\",\n              attrs: { disabled: !_vm.openTask.isableSubmit, primary: \"\" },\n              on: {\n                click: function($event) {\n                  _vm.submitOrder()\n                }\n              }\n            },\n            [_vm._v(\"提交订单\")]\n          ),\n          _vm._v(\" \"),\n          _c(\"span\", { staticClass: \"total-price\" }, [\n            _vm._v(\"合计：\"),\n            _c(\"i\", { staticClass: \"iconfont icon-match-maker-price\" }, [\n              _vm._v(_vm._s(_vm.openTask.submitData.totalAmount.toFixed(2)))\n            ])\n          ])\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _vm.showOpenTaskModal\n        ? _c(\"picker\", {\n            attrs: {\n              isShowPicker: _vm.isShowModal,\n              theme: _vm.pickerTheme,\n              type: _vm.pickerType,\n              pickerData: _vm.pickerData\n            },\n            on: { cancel: _vm.cancel, confirm: _vm.confirm }\n          })\n        : _vm._e()\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\nif (module.hot) {\n  module.hot.accept()\n  if (module.hot.data) {\n    require(\"vue-hot-reload-api\")      .rerender(\"data-v-6b6e17d4\", esExports)\n  }\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6b6e17d4\",\"hasScoped\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0&bustCache!./src/pages/openTask/index.vue\n// module id = 787\n// module chunks = 31"],"sourceRoot":""}