webpackJsonp([41],{572:function(t,e,n){"use strict";function o(t){s||n(805)}Object.defineProperty(e,"__esModule",{value:!0});var i=n(806),a=n(807),s=!1,c=n(6),r=o,l=c(i.a,a.a,!1,r,null,null);l.options.__file="src\\pages\\add_companys\\index.vue",l.esModule&&Object.keys(l.esModule).some(function(t){return"default"!==t&&"__"!==t.substr(0,2)}),e.default=l.exports},805:function(t,e){},806:function(t,e,n){"use strict";var o=n(12),i=n(55),a=n.n(i),s=n(110),c=n(77),r=(n.n(c),n(60)),l=n(61),p=n(579),u=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),f=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,s=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(a<3?i(s):a>3?i(e,n,s):i(e,n))||s);return a>3&&s&&Object.defineProperty(e,n,s),s},m=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},h=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,a){function s(t){try{r(o.next(t))}catch(t){a(t)}}function c(t){try{r(o.throw(t))}catch(t){a(t)}}function r(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(s,c)}r((o=o.apply(t,e||[])).next())})},y=this&&this.__generator||function(t,e){function n(t){return function(e){return o([t,e])}}function o(n){if(i)throw new TypeError("Generator is already executing.");for(;r;)try{if(i=1,a&&(s=a[2&n[0]?"return":n[0]?"throw":"next"])&&!(s=s.call(a,n[1])).done)return s;switch(a=0,s&&(n=[0,s.value]),n[0]){case 0:case 1:s=n;break;case 4:return r.label++,{value:n[1],done:!1};case 5:r.label++,a=n[1],n=[0];continue;case 7:n=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(6===n[0]||2===n[0])){r=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3])){r.label=n[1];break}if(6===n[0]&&r.label<s[1]){r.label=s[1],s=n;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(n);break}s[2]&&r.ops.pop(),r.trys.pop();continue}n=e.call(t,r)}catch(t){n=[6,t],a=0}finally{i=s=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,a,s,c,r={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return c={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c},d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.companyTemp=null,e.companySuggestList=[],e.companyList=[],e.maxCount=5,e.searchEnable=!0,e}return u(e,t),Object.defineProperty(e.prototype,"companyCache",{get:function(){return p.a.companyCache},enumerable:!0,configurable:!0}),e.prototype.watchInput=function(t,e){if(0===t.length||null===t)return void(this.companySuggestList=[]);this.searchCompany(this.companyTemp)},e.prototype.searchCompany=function(t){return h(this,void 0,void 0,function(){var e,n,o;return y(this,function(i){switch(i.label){case 0:return t.length>0&&this.searchEnable?(this.searchEnable=!1,[4,l.a.searchCompany(t)]):[3,2];case 1:e=i.sent(),n=e.body.obj,o=n,this.companySuggestList=o,this.isCompanySelected(this.companySuggestList),this.searchEnable=!0,i.label=2;case 2:return[2]}})})},e.prototype.isCompanySelected=function(t){var e=this.companyList;t.map(function(t){t.selected=!1;for(var n=0,o=e;n<o.length;n++){if(o[n]===t.coname){t.selected=!0;break}}return t})},e.prototype.toggleCompanyFromSuggest=function(t){if(t.selected){var e=this.companyList.indexOf(t.coname);this.companyList.splice(e,1),t.selected=!t.selected}else{if(this.companyList.length>=this.maxCount)return void this.showToast(new r.a("最多选择5个单位"));this.companyList.push(t.coname),t.selected=!t.selected}},e.prototype.deleteCompany=function(t){var e=this.companyList.indexOf(t);this.companyList.splice(e,1);for(var n=0,o=this.companySuggestList;n<o.length;n++){var i=o[n];if(i.coname===t){i.selected=!i.selected;break}}},e.prototype.activated=function(){this.companyList=this.companyCache},e.prototype.deactivated=function(){this.companySuggestList=[],this.companyTemp=""},f([Object(s.a)("showToast"),m("design:type",Object)],e.prototype,"showToast",void 0),f([Object(c.Watch)("companyTemp"),m("design:type",Function),m("design:paramtypes",[Object,Object]),m("design:returntype",void 0)],e.prototype,"watchInput",null),e=f([a()({})],e)}(o.default);e.a=d},807:function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content",attrs:{id:"add-companys"}},[n("div",{staticClass:"search-area"},[n("div",{staticClass:"input-area"},[n("i",{staticClass:"iconfont icon-search"}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.companyTemp,expression:"companyTemp"}],staticClass:"input-select",attrs:{maxlength:"30",placeholder:"请输入单位名称"},domProps:{value:t.companyTemp},on:{input:function(e){e.target.composing||(t.companyTemp=e.target.value)}}})])]),t._v(" "),t.companySuggestList.length>0?n("div",[n("div",{staticClass:"top-title-task"},[t._v("搜索结果")]),t._v(" "),n("mu-list",t._l(t.companySuggestList,function(e,o){return n("mu-list-item",{key:o,staticClass:"normal-list-item"},[n("span",{staticClass:"item-name"},[t._v(t._s(e.coname))]),t._v(" "),e.selected?n("span",{staticClass:"item-icon"},[n("i",{staticClass:"iconfont icon-jianhao-big",on:{click:function(n){t.toggleCompanyFromSuggest(e)}}})]):t._e(),t._v(" "),e.selected?t._e():n("span",{staticClass:"item-icon"},[n("i",{staticClass:"iconfont icon-plus-big",on:{click:function(n){t.toggleCompanyFromSuggest(e)}}})])])}))],1):t._e(),t._v(" "),t.companyList.length>0?n("div",[n("div",{staticClass:"top-title-task"},[t._v("已选公司列表")]),t._v(" "),n("mu-list",t._l(t.companyList,function(e,o){return n("mu-list-item",{key:o,staticClass:"normal-list-item"},[n("span",{staticClass:"item-name"},[t._v(t._s(e))]),t._v(" "),n("span",{staticClass:"item-icon"},[n("i",{staticClass:"iconfont icon-jianhao-big",on:{click:function(n){t.deleteCompany(e)}}})])])}))],1):t._e()])},i=[];o._withStripped=!0;var a={render:o,staticRenderFns:i};e.a=a}});
//# sourceMappingURL=41.7b970d18772d9900a3a1.js.map