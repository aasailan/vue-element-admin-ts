webpackJsonp([26],{537:function(t,s,e){"use strict";function a(t){o||e(651)}Object.defineProperty(s,"__esModule",{value:!0});var i=e(652),r=e(653),o=!1,c=e(6),n=a,l=c(i.a,r.a,!1,n,null,null);l.options.__file="src\\pages\\received_task_detail\\index.vue",l.esModule&&Object.keys(l.esModule).some(function(t){return"default"!==t&&"__"!==t.substr(0,2)}),s.default=l.exports},651:function(t,s){},652:function(t,s,e){"use strict";function a(t){var s;if(t){switch(t.taskStatus){case 0:s="任务进行中";break;case 1:s="任务已被取消";break;case 3:s="任务已超时";break;case 4:s=2===t.clearingStatus?"任务已完成，赏金已领取":0===t.clearingStatus?"任务已完成，赏金待领取":"任务已完成，赏金结算中";break;default:s=""}return s}}var i=e(12),r=e(55),o=e.n(r),c=e(110),n=e(61),l=e(60),u=e(25),v=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,s){t.__proto__=s}||function(t,s){for(var e in s)s.hasOwnProperty(e)&&(t[e]=s[e])};return function(s,e){function a(){this.constructor=s}t(s,e),s.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}}(),d=this&&this.__decorate||function(t,s,e,a){var i,r=arguments.length,o=r<3?s:null===a?a=Object.getOwnPropertyDescriptor(s,e):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,s,e,a);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(o=(r<3?i(o):r>3?i(s,e,o):i(s,e))||o);return r>3&&o&&Object.defineProperty(s,e,o),o},f=this&&this.__metadata||function(t,s){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,s)},_=this&&this.__awaiter||function(t,s,e,a){return new(e||(e=Promise))(function(i,r){function o(t){try{n(a.next(t))}catch(t){r(t)}}function c(t){try{n(a.throw(t))}catch(t){r(t)}}function n(t){t.done?i(t.value):new e(function(s){s(t.value)}).then(o,c)}n((a=a.apply(t,s||[])).next())})},k=this&&this.__generator||function(t,s){function e(t){return function(s){return a([t,s])}}function a(e){if(i)throw new TypeError("Generator is already executing.");for(;n;)try{if(i=1,r&&(o=r[2&e[0]?"return":e[0]?"throw":"next"])&&!(o=o.call(r,e[1])).done)return o;switch(r=0,o&&(e=[0,o.value]),e[0]){case 0:case 1:o=e;break;case 4:return n.label++,{value:e[1],done:!1};case 5:n.label++,r=e[1],e=[0];continue;case 7:e=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(6===e[0]||2===e[0])){n=0;continue}if(3===e[0]&&(!o||e[1]>o[0]&&e[1]<o[3])){n.label=e[1];break}if(6===e[0]&&n.label<o[1]){n.label=o[1],o=e;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(e);break}o[2]&&n.ops.pop(),n.trys.pop();continue}e=s.call(t,n)}catch(t){e=[6,t],r=0}finally{i=o=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}var i,r,o,c,n={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return c={next:e(0),throw:e(1),return:e(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c},p=function(t){function s(){var s=null!==t&&t.apply(this,arguments)||this;return s.receivedTask=null,s.criteriaVo=null,s}return v(s,t),s.prototype.activated=function(){return _(this,void 0,void 0,function(){var t,s,e;return k(this,function(a){switch(a.label){case 0:return t=this.$route.params,[4,n.a.getReceivedTaskDetail(t.taskId)];case 1:return s=a.sent(),this.receivedTask=s.body.obj,this.findAcceptUser(this.receivedTask),[4,n.a.getTaskCriteria(t.taskId)];case 2:return e=a.sent(),this.criteriaVo=s.body.obj,[2]}})})},s.prototype.findAcceptUser=function(t){var s=t.subsetTasks[0].letters;if(s&&0!==s.length)for(var e=0,a=s;e<a.length;e++){var i=a[e];if(i.isFriend){t.acceptUser=i;break}}},s.prototype.clearTask=function(t){return _(this,void 0,void 0,function(){var s,e,a;return k(this,function(i){switch(i.label){case 0:if(0!==(s=t.clearingStatus)&&-1!==s)return[3,5];if(null===this.alipayId)return this.showToast(new l.a("您未绑定支付宝账户，请先绑定支付宝账户。")),this.$router.push({name:"bindAlipay"}),[2];if(-1===this.myRoles.indexOf(u.Y.authorized_matchmaker))return this.showToast(new l.a("您未认证，暂时无法领取红包，请先完成认证。")),this.$router.push({name:"authIndex"}),[2];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,n.a.clearTask(t.subId,1)];case 2:return e=i.sent(),this.showToast(new l.a("申请结算成功，红包将在24小时内发放至您的支付宝账户！")),[3,4];case 3:return a=i.sent(),this.showToast(new l.a(a.message)),[3,4];case 4:return[3,6];case 5:1===s?this.showToast(new l.a("金额结算中")):this.showToast(new l.a("金额已结算")),i.label=6;case 6:return[2]}})})},s.prototype.enterTaskIdeal=function(){this.$router.push({name:"receivedtaskDetailIdeal",params:{taskId:this.$route.params.taskId}})},d([Object(c.c)(function(t){return t.user.aliPaymentId}),f("design:type",String)],s.prototype,"alipayId",void 0),d([Object(c.c)(function(t){return t.user.roles}),f("design:type",Array)],s.prototype,"myRoles",void 0),d([Object(c.a)("showToast"),f("design:type",Object)],s.prototype,"showToast",void 0),s=d([o()({filters:{payStatus:a}})],s)}(i.default);s.a=p},653:function(t,s,e){"use strict";var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return t.receivedTask?e("div",{attrs:{id:"recommend-detail"}},[e("div",{staticClass:"marge-task-info"},[e("div",{staticClass:"title font-color-87"},[e("span",{staticClass:"task-status"},[t._v(t._s(t._f("taskStatus")(t.receivedTask)))]),e("span",{staticClass:"pay-status"},[t._v(t._s(t._f("payStatus")(t.receivedTask.subsetTasks[0])))])]),t._v(" "),e("div",{staticClass:"task-info"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-20 font-color-35"},[t._v("订单类型")]),t._v(" "),e("div",{staticClass:"col-80 font-color-78"},[t._v(t._s(t._f("taskType")(t.receivedTask.subject)))])]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-20 font-color-35"},[t._v("红包类型")]),t._v(" "),e("div",{staticClass:"col-80 font-color-78"},[t._v(t._s(t._f("redPacketType")(t.receivedTask))+"，共"+t._s(t._f("taskAmount")(t.receivedTask.totalAmount))+"元")])]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-20 font-color-35"},[t._v("任务期限")]),t._v(" "),e("div",{staticClass:"col-80 font-color-78"},[t._v(t._s(t.receivedTask.duration)+"天")])]),t._v(" "),e("div",{staticClass:"row",attrs:{"ng-if":"receivedTask.taskType===2"}},[e("div",{staticClass:"col-20 font-color-35"},[t._v("公开范围")]),t._v(" "),e("div",{staticClass:"col-80 font-color-78"},[t._v(t._s(t._f("rangeDetail")(t.receivedTask.range)))])]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-20 font-color-35"},[t._v("留言")]),t._v(" "),e("div",{staticClass:"col-80 font-color-78"},[t._v(t._s(t.receivedTask.leaveMsg))])])]),t._v(" "),e("div",{staticClass:"task-info"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-20 font-color-35"},[t._v("订单编号")]),t._v(" "),e("div",{staticClass:"col-80 font-color-78"},[t._v(t._s(t.receivedTask.subsetTasks[0].subId))])]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-20 font-color-35"},[t._v("接收时间")]),t._v(" "),e("div",{staticClass:"col-80 font-color-78"},[t._v(t._s(t.receivedTask.subsetTasks[0].receiveTime))])]),t._v(" "),e("div",{staticClass:"row",attrs:{"ng-if":"receivedTask.subsetTasks[0].taskStatus === 0"}},[e("div",{staticClass:"col-20 font-color-35"},[t._v("截止时间")]),t._v(" "),e("div",{staticClass:"col-80 font-color-78"},[t._v(t._s(t.receivedTask.subsetTasks[0].dueTime))])]),t._v(" "),e("div",{staticClass:"row",attrs:{"ng-if":"receivedTask.subsetTasks[0].endTime !== null"}},[e("div",{staticClass:"col-20 font-color-35"},[t._v("结束时间")]),t._v(" "),e("div",{staticClass:"col-80 font-color-78"},[t._v(t._s(t.receivedTask.subsetTasks[0].endTime))])])]),t._v(" "),e("div",{staticClass:"task-info"},[e("div",{staticClass:"row font-color-35"},[e("div",{staticClass:"col-20"},[t._v("红包总额")]),t._v(" "),e("div",{staticClass:"col-70"},[e("i",{staticClass:"iconfont icon-match-maker-price font-color-35"},[t._v(t._s(t._f("taskAmount")(t.receivedTask.subsetTasks[0].amount)))])])])]),t._v(" "),2===t.receivedTask.subsetTasks[0].clearingStatus?e("div",{staticClass:"task-info payment-info"},[e("div",{staticClass:"row",staticStyle:{color:"#fe7777"}},[e("div",{staticClass:"col-20"},[t._v("实收赏金")]),t._v(" "),e("div",{staticClass:"col-70"},[e("i",{staticClass:"iconfont icon-match-maker-price font-color-78"},[t._v(t._s(t._f("taskAmount")(2!==t.receivedTask.subsetTasks[0].refundStatus?t.receivedTask.subsetTasks[0].amount:0)))])])])]):t._e()]),t._v(" "),e("mu-list-item",{class:"normal-list-item",attrs:{title:"择偶条件"},on:{click:function(s){t.enterTaskIdeal()}}},[e("i",{staticClass:"iconfont icon-list-more",attrs:{slot:"right"},slot:"right"})]),t._v(" "),t.receivedTask.subsetTasks[0].letters.length>0?e("div",{staticClass:"letters-info"},[e("div",[e("div",{staticClass:"title"},[t._v("已推荐")]),t._v(" "),e("div",{staticClass:"img-box"},t._l(t.receivedTask.subsetTasks[0].letters,function(t){return e("load-img",{key:t.id,staticClass:"avatar",attrs:{type:"img",url:t.headPortrait}})})),t._v(" "),e("div",{staticStyle:{clear:"both"}})]),t._v(" "),t.receivedTask.acceptUser?e("div",{staticClass:"add-friend"},[e("div",{staticClass:"title"},[t._v("已加好友")]),t._v(" "),e("div",{staticClass:"img-box"},[e("load-img",{staticClass:"avatar",attrs:{type:"img",url:t.receivedTask.acceptUser.headPortrait}})],1),t._v(" "),e("div",{staticStyle:{clear:"both"}})]):t._e()]):t._e(),t._v(" "),0===t.receivedTask.subsetTasks[0].taskStatus?e("mu-raised-button",{staticClass:"right-pos",attrs:{label:"帮TA牵线",fullWidth:"",to:{name:"recommend",params:{action:"task",uid:t.receivedTask.fromUid,subId:t.receivedTask.subsetTasks[0].subId}}}}):t._e(),t._v(" "),4===t.receivedTask.subsetTasks[0].taskStatus&&2!==t.receivedTask.subsetTasks[0].clearingStatus?e("mu-raised-button",{staticClass:"right-pos",attrs:{label:"收款",fullWidth:""},on:{click:function(s){t.clearTask(t.receivedTask.subsetTasks[0])}}}):t._e()],1):t._e()},i=[];a._withStripped=!0;var r={render:a,staticRenderFns:i};s.a=r}});
//# sourceMappingURL=26.c3f1b168a73c6347602a.js.map