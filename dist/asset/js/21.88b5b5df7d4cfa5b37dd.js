webpackJsonp([21],{573:function(t,e,n){"use strict";function a(t){o||n(808)}Object.defineProperty(e,"__esModule",{value:!0});var i=n(809),s=n(810),o=!1,r=n(6),u=a,c=r(i.a,s.a,!1,u,null,null);c.options.__file="src\\pages\\searchAndAddFriends\\index.vue",c.esModule&&Object.keys(c.esModule).some(function(t){return"default"!==t&&"__"!==t.substr(0,2)}),e.default=c.exports},808:function(t,e){},809:function(t,e,n){"use strict";var a=n(12),i=n(55),s=n.n(i),o=n(110),r=n(575),u=n(159),c=n(60),l=n(61),h=n(77),p=(n.n(h),n(585)),d=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function a(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),f=this&&this.__decorate||function(t,e,n,a){var i,s=arguments.length,o=s<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,a);else for(var r=t.length-1;r>=0;r--)(i=t[r])&&(o=(s<3?i(o):s>3?i(e,n,o):i(e,n))||o);return s>3&&o&&Object.defineProperty(e,n,o),o},m=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},y=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))(function(i,s){function o(t){try{u(a.next(t))}catch(t){s(t)}}function r(t){try{u(a.throw(t))}catch(t){s(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(o,r)}u((a=a.apply(t,e||[])).next())})},v=this&&this.__generator||function(t,e){function n(t){return function(e){return a([t,e])}}function a(n){if(i)throw new TypeError("Generator is already executing.");for(;u;)try{if(i=1,s&&(o=s[2&n[0]?"return":n[0]?"throw":"next"])&&!(o=o.call(s,n[1])).done)return o;switch(s=0,o&&(n=[0,o.value]),n[0]){case 0:case 1:o=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,s=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(o=u.trys,!(o=o.length>0&&o[o.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3])){u.label=n[1];break}if(6===n[0]&&u.label<o[1]){u.label=o[1],o=n;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(n);break}o[2]&&u.ops.pop(),u.trys.pop();continue}n=e.call(t,u)}catch(t){n=[6,t],s=0}finally{i=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,s,o,r,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r},g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.showShareImage=!1,e.inputNum="",e.searchResult=[],e}return d(e,t),e.prototype.checkNum=function(t,e){var n=t.replace(/[^0-9]/g,"");this.inputNum=n,e!==n&&(this.searchResult=[])},e.prototype.activated=function(){this.inputNum="",this.showShareImage=!1,this.searchResult=[]},e.prototype.searchFriends=function(){return y(this,void 0,void 0,function(){var t,e,n;return v(this,function(a){switch(a.label){case 0:this.showLoading(),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,l.a.searchFriendById(this.inputNum)];case 2:return t=a.sent(),this.hideLoading(),e=t.body.obj,this.searchResult=[],null!==e?this.searchResult.push(e):this.showToast(new c.a("搜索不到相关好友，请检查下输入的手机号是否正确")),[3,4];case 3:return n=a.sent(),this.hideLoading(),this.showToast(new c.a(n.message)),[3,4];case 4:return[2]}})})},e.prototype.clearNum=function(){this.inputNum=""},e.prototype.toPersonalPage=function(t){var e={action:"otherUser",id:t};this.$router.push({name:"personalPage",params:e})},e.prototype.addFriend=function(t){return y(this,void 0,void 0,function(){var e;return v(this,function(n){switch(n.label){case 0:this.showLoading(),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,l.a.addFriendById(t)];case 2:return n.sent(),this.hideLoading(),this.showToast(new c.a("已申请添加对方好友，等待答复")),[3,4];case 3:return e=n.sent(),this.hideLoading(),this.showToast(new c.a(e.message)),[3,4];case 4:return[2]}})})},f([Object(o.a)("showToast"),m("design:type",Object)],e.prototype,"showToast",void 0),f([Object(o.a)("showLoading"),m("design:type",Object)],e.prototype,"showLoading",void 0),f([Object(o.a)("hideLoading"),m("design:type",Object)],e.prototype,"hideLoading",void 0),f([Object(h.Watch)("inputNum"),m("design:type",Function),m("design:paramtypes",[Object,Object]),m("design:returntype",void 0)],e.prototype,"checkNum",null),e=f([s()({components:{"mu-text-field":r.a,"mu-flat-button":u.a,"share-image":p.a}})],e)}(a.default);e.a=g},810:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content",attrs:{id:"search-add-frined"}},[n("div",{staticClass:"search-area"},[n("div",{staticClass:"input-area"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.inputNum,expression:"inputNum"}],ref:"searchInput",staticClass:"input-custom",attrs:{placeholder:"请输入电话号码"},domProps:{value:t.inputNum},on:{input:function(e){e.target.composing||(t.inputNum=e.target.value)}}}),t._v(" "),n("i",{directives:[{name:"show",rawName:"v-show",value:t.inputNum.length>0,expression:"inputNum.length > 0"}],staticClass:"iconfont icon-clear",on:{click:function(e){t.clearNum()}}})]),t._v(" "),n("mu-flat-button",{staticClass:"raise-btn-custom",on:{click:function(e){t.searchFriends()}}},[t._v("搜索")])],1),t._v(" "),n("mu-list",{staticClass:"normal-list"},[t._l(t.searchResult,function(e){return n("mu-list-item",{key:e.uid,staticClass:"normal-list-item",attrs:{title:t._f("nameHiding")(e.realname)}},[n("load-img",{staticClass:"avatar",attrs:{slot:"leftAvatar",type:"img",url:e.headPortrait},slot:"leftAvatar"}),t._v(" "),n("mu-flat-button",{class:["flat-btn-custom",2===e.status?"is-friend":"not-friend"],attrs:{slot:"right",label:2===e.status?"已添加":"添加",disabled:2===e.status},on:{click:function(n){n.stopPropagation(),t.addFriend(e.uid)}},slot:"right"})],1)}),t._v(" "),n("mu-list-item",{staticClass:"normal-list-item",attrs:{title:"没有找到好友？试试通过分享邀请啊！",titleClass:"share-title"},on:{click:function(e){t.showShareImage=!0}}},[n("i",{staticClass:"iconfont icon-yaoqinghaoyou",attrs:{slot:"right"},slot:"right"})])],2),t._v(" "),t.showShareImage?n("share-image",{on:{hide:function(e){t.showShareImage=!1}}}):t._e()],1)},i=[];a._withStripped=!0;var s={render:a,staticRenderFns:i};e.a=s}});
//# sourceMappingURL=21.88b5b5df7d4cfa5b37dd.js.map