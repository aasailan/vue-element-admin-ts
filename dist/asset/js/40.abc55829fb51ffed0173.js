webpackJsonp([40],{548:function(t,e,n){"use strict";function s(t){o||n(710)}Object.defineProperty(e,"__esModule",{value:!0});var i=n(711),a=n(712),o=!1,r=n(6),l=s,u=r(i.a,a.a,!1,l,null,null);u.options.__file="src\\pages\\add_tags\\index.vue",u.esModule&&Object.keys(u.esModule).some(function(t){return"default"!==t&&"__"!==t.substr(0,2)}),e.default=u.exports},710:function(t,e){},711:function(t,e,n){"use strict";var s=n(12),i=n(55),a=n.n(i),o=n(110),r=n(575),l=n(36),u=n(111),c=n(60),h=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function s(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(s.prototype=n.prototype,new s)}}(),f=this&&this.__decorate||function(t,e,n,s){var i,a=arguments.length,o=a<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,s);else for(var r=t.length-1;r>=0;r--)(i=t[r])&&(o=(a<3?i(o):a>3?i(e,n,o):i(e,n))||o);return a>3&&o&&Object.defineProperty(e,n,o),o},d=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},p=this&&this.__awaiter||function(t,e,n,s){return new(n||(n=Promise))(function(i,a){function o(t){try{l(s.next(t))}catch(t){a(t)}}function r(t){try{l(s.throw(t))}catch(t){a(t)}}function l(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(o,r)}l((s=s.apply(t,e||[])).next())})},g=this&&this.__generator||function(t,e){function n(t){return function(e){return s([t,e])}}function s(n){if(i)throw new TypeError("Generator is already executing.");for(;l;)try{if(i=1,a&&(o=a[2&n[0]?"return":n[0]?"throw":"next"])&&!(o=o.call(a,n[1])).done)return o;switch(a=0,o&&(n=[0,o.value]),n[0]){case 0:case 1:o=n;break;case 4:return l.label++,{value:n[1],done:!1};case 5:l.label++,a=n[1],n=[0];continue;case 7:n=l.ops.pop(),l.trys.pop();continue;default:if(o=l.trys,!(o=o.length>0&&o[o.length-1])&&(6===n[0]||2===n[0])){l=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3])){l.label=n[1];break}if(6===n[0]&&l.label<o[1]){l.label=o[1],o=n;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(n);break}o[2]&&l.ops.pop(),l.trys.pop();continue}n=e.call(t,l)}catch(t){n=[6,t],a=0}finally{i=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,a,o,r,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r},b=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.tags=null,e.txt=null,e.hintText=null,e.title=null,e.myTags=null,e.subscription=null,e.subject=null,e.isAdd=!1,e.maxCount=null,e.maxTagLength=13,e}return h(e,t),Object.defineProperty(e.prototype,"buttonDisabled",{get:function(){return!(this.txt&&this.txt.length>0&&this.txt.length<this.maxTagLength+1)},enumerable:!0,configurable:!0}),e.prototype.activated=function(){return p(this,void 0,void 0,function(){var t,e,n,s,i,a,o,r,c;return g(this,function(h){switch(h.label){case 0:return[4,l.a.initedUser()];case 1:for(h.sent(),this.tags=[],t=l.a.getItem(u.a.addTagConfig),e=t.demoTags,n=t.myTags,this.myTags=n,this.subject=t.subject,this.subscription=t.subscription,this.isAdd=t.isAdd,this.title=t.title,this.hintText=t.hintText,this.maxCount=t.maxCount,s=0,i=n;s<i.length;s++)a=i[s],this.tags.push({tag:a,selected:!0});for(e=e.filter(function(t){for(var e=0,s=n;e<s.length;e++){if(t===s[e])return!1}return!0}),o=0,r=e;o<r.length;o++)c=r[o],this.tags.push({tag:c,selected:!1});return[2]}})})},e.prototype.deactivated=function(){this.subject=null,this.txt=null,this.subscription.unsubscribe(),this.subscription=null,this.maxCount=null},e.prototype.toggleTag=function(t){var e=this.myTags;if(!t.selected&&null!==this.maxCount&&e.length>=this.maxCount)return void this.showToast(new c.a("标签不能超过"+this.maxCount+"个"));t.selected=!t.selected,t.selected?e.push(t.tag):e.splice(e.indexOf(t.tag),1),this.subject.next(e)},e.prototype.addTag=function(){var t=this.txt;if(null!==this.maxCount&&this.myTags.length>=this.maxCount)return void this.showToast(new c.a("标签不能超过"+this.maxCount+"个"));for(var e=0,n=this.tags;e<n.length;e++){var s=n[e];if(s.tag===t)return s.selected||this.myTags.unshift(s.tag),void(s.selected=!0)}this.tags.unshift({tag:t,selected:!0}),this.myTags.unshift(t),this.subject.next(this.myTags)},e.prototype.handleInputOverflow=function(t,e){t&&(this.txt=this.txt.slice(0,e))},f([Object(o.a)("showToast"),d("design:type",Object)],e.prototype,"showToast",void 0),e=f([a()({components:{"mu-text-field":r.a}})],e)}(s.default);e.a=b},712:function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content",attrs:{id:"add-tag"}},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-20",staticStyle:{"padding-top":"5px"}},[t._v(t._s(t.title))]),t._v(" "),n("div",{staticClass:"col-80"},[n("div",{staticClass:"tags-wrap"},t._l(t.tags,function(e,s){return n("div",{key:s,staticClass:"tag",class:e.selected?"tag-selected":"tag-wait",on:{click:function(n){t.toggleTag(e)}}},[t._v("\n                    "+t._s(e.tag)+"\n                ")])}))])]),t._v(" "),n("div",{staticClass:"row"},[n("div",{staticClass:"col-20"}),t._v(" "),n("div",{staticClass:"col-80"},[t.isAdd?n("div",{staticClass:"add-input-content"},[n("mu-text-field",{attrs:{hintText:t.hintText,hintTextClass:"text",inputClass:"text",maxLength:t.maxTagLength},on:{textOverflow:function(e){t.handleInputOverflow(e,t.maxTagLength)}},model:{value:t.txt,callback:function(e){t.txt=e},expression:"txt"}}),t._v(" "),n("mu-raised-button",{staticClass:"raised-button",class:t.buttonDisabled?"":"active",attrs:{label:"+ 添加",disabled:t.buttonDisabled},on:{click:t.addTag}})],1):t._e()])])])},i=[];s._withStripped=!0;var a={render:s,staticRenderFns:i};e.a=a}});
//# sourceMappingURL=40.abc55829fb51ffed0173.js.map